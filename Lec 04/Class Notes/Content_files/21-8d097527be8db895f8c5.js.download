(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/C4M":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ERkP"),a=n("7nmT"),i=n("K2uC"),o=n("MEdB"),u=n("LStL"),s=n("uDfI"),c=n("8unJ"),l=n("ACGm");t.PanelModeEnum=l.default;var f=function(e,t,n,i,o){var u=n;null==n&&"undefined"!=typeof window&&window.location.search.match("setLang=")&&(u=window.location.search.match(/setLang=([^$&]+)/)[1]),a.render(r.createElement(c.Locale,{locale:u,babelfishInstance:i,babelfishFormatInstance:o,bundlesToLoad:["announcements/locales/[locale]/announcements.json"]},r.createElement("div",null,e)),t)};t.renderAnnouncementListPanel=function(e,t,n,a,o,u,c,l){f(r.createElement(s.Provider,{store:t},r.createElement(i.default,{courseId:u,permissions:c,root:e,openAnnouncementDetailPanel:l})),e,n,a,o)},t.renderAnnouncementDetailPanel=function(e,t,n,a,i,u,c,l,m,p,d){f(r.createElement(s.Provider,{store:t},r.createElement(o.default,{courseId:u,announcementId:c,permissions:l,mode:m,closePanel:p,pluginConfig:d})),e,n,a,i)},t.renderAnnouncementSlide=function(e,t,n,a,i,o,c,l,m,p){f(r.createElement(s.Provider,{store:t},r.createElement(u.default,{courseColorClass:o,fetchAnnouncementSlides:c,dismissAnnouncementItem:p,onOpenAllAnnouncements:l,openAnnouncementDetail:m})),e,n,a,i)};var m={renderAnnouncementListPanel:t.renderAnnouncementListPanel,destroyAnnouncementListPanel:function(e){a.unmountComponentAtNode(e)},renderAnnouncementDetailPanel:t.renderAnnouncementDetailPanel,destroyAnnouncementDetailPanel:function(e){a.unmountComponentAtNode(e)},renderAnnouncementSlide:t.renderAnnouncementSlide,destroyAnnouncementSlide:function(e){a.unmountComponentAtNode(e)}};t.default=m},"504r":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("MC1S"),o=n("n7/H"),u=n("myse");n("wzET"),t.getDatePickerDefaultStrings=function(e){return{months:[e.translate("course.announcements.datePicker.months.january"),e.translate("course.announcements.datePicker.months.february"),e.translate("course.announcements.datePicker.months.march"),e.translate("course.announcements.datePicker.months.april"),e.translate("course.announcements.datePicker.months.may"),e.translate("course.announcements.datePicker.months.june"),e.translate("course.announcements.datePicker.months.july"),e.translate("course.announcements.datePicker.months.august"),e.translate("course.announcements.datePicker.months.september"),e.translate("course.announcements.datePicker.months.october"),e.translate("course.announcements.datePicker.months.november"),e.translate("course.announcements.datePicker.months.december")],shortMonths:[e.translate("course.announcements.datePicker.shortMonths.january"),e.translate("course.announcements.datePicker.shortMonths.february"),e.translate("course.announcements.datePicker.shortMonths.march"),e.translate("course.announcements.datePicker.shortMonths.april"),e.translate("course.announcements.datePicker.shortMonths.may"),e.translate("course.announcements.datePicker.shortMonths.june"),e.translate("course.announcements.datePicker.shortMonths.july"),e.translate("course.announcements.datePicker.shortMonths.august"),e.translate("course.announcements.datePicker.shortMonths.september"),e.translate("course.announcements.datePicker.shortMonths.october"),e.translate("course.announcements.datePicker.shortMonths.november"),e.translate("course.announcements.datePicker.shortMonths.december")],days:[e.translate("course.announcements.datePicker.days.sunday"),e.translate("course.announcements.datePicker.days.monday"),e.translate("course.announcements.datePicker.days.tuesday"),e.translate("course.announcements.datePicker.days.wednesday"),e.translate("course.announcements.datePicker.days.thursday"),e.translate("course.announcements.datePicker.days.friday"),e.translate("course.announcements.datePicker.days.saturday")],shortDays:[e.translate("course.announcements.datePicker.shortDays.sunday"),e.translate("course.announcements.datePicker.shortDays.monday"),e.translate("course.announcements.datePicker.shortDays.tuesday"),e.translate("course.announcements.datePicker.shortDays.wednesday"),e.translate("course.announcements.datePicker.shortDays.thursday"),e.translate("course.announcements.datePicker.shortDays.friday"),e.translate("course.announcements.datePicker.shortDays.saturday")],goToToday:e.translate("course.announcements.datePicker.goToToday"),prevMonthAriaLabel:e.translate("course.announcements.datePicker.prevMonthAriaLabel"),nextMonthAriaLabel:e.translate("course.announcements.datePicker.nextMonthAriaLabel"),prevYearAriaLabel:e.translate("course.announcements.datePicker.prevYearAriaLabel"),nextYearAriaLabel:e.translate("course.announcements.datePicker.nextYearAriaLabel")}};var s=function(e){function n(t){var n=e.call(this,t)||this;return n.timeoutPromiseWrapper=function(e,t,r){return new Promise((function(a){e.apply(n,t),setTimeout((function(){var n=e.apply(r,t);a(n)}))}))},n.errorMessage=function(){var e=n.props,t=e.isValueValid,r=e.errorEmptyMessage,o=e.errorFormatMessage;if(!t){var u=o;return n.state.uiDateStr||(u=r),a.createElement("span",{className:"error-message"},a.createElement(i.SvgIcon,{iconSize:"small",iconName:"attention"}),u)}return null},n.toggleCalendar=function(){n.setState((function(e){return{isDisplayCalendar:!e.isDisplayCalendar}}),(function(){n.state.isDisplayCalendar&&setTimeout((function(){n.calRef.focus()}),100)}))},n.onSelectDate=function(e){var t=n.props,r=t.localize,a=t.onChangeValue;n.timeoutPromiseWrapper(r.formatDate,[e,o.ILocaleDateFormat.Short],r).then((function(t){a(e),n.setState({uiDateStr:t}),n.toggleCalendar()}))},n.onTypeDate=function(e){n.setState({uiDateStr:e.target.value})},n.onHandleBlur=function(){var e=n.state.uiDateStr,t=n.props,r=t.onChangeValue,a=t.localize;setTimeout((function(){n.datePickerRef.contains(document.activeElement)||n.setState({isDisplayCalendar:!1})})),n.timeoutPromiseWrapper(a.parseDate,[e,o.ILocaleDateFormat.Short],a).then((function(e){e&&r(e)}))},n.state={isDisplayCalendar:!1,uiDateStr:""},n}return r.__extends(n,e),n.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.value,r=t.onChangeValue,a=t.localize;n&&this.timeoutPromiseWrapper(a.formatDate,[n,o.ILocaleDateFormat.Short],a).then((function(t){r(n),e.setState({uiDateStr:t})}))},n.prototype.componentDidUpdate=function(e,t){var n=this,r=this.state.uiDateStr,a=this.props,i=a.value,u=a.onValidateCallback,s=a.disabled,c=a.localize;i&&i!==e.value&&this.timeoutPromiseWrapper(c.formatDate,[i,o.ILocaleDateFormat.Short],c).then((function(e){n.setState({uiDateStr:e}),u(!0)})),i||i===e.value||(this.setState({uiDateStr:""}),u(!0)),this.state.uiDateStr===t.uiDateStr||s||this.timeoutPromiseWrapper(c.parseDate,[r,o.ILocaleDateFormat.Short],c).then((function(e){u(!!e)}))},n.prototype.render=function(){var e=this,n=this.state,r=n.isDisplayCalendar,o=n.uiDateStr,s=this.props,c=s.value,l=s.disabled,f=s.localize,m=s.analyticsId,p=(0,s.analyticsEventAugmentor)(u.AnalyticsEventTypes.CLICK_EVENT,(function(){}),m+".input.text");return a.createElement("div",{ref:function(t){return e.datePickerRef=t},className:"date-picker"},a.createElement("div",{className:"calendar-input-container","data-analytics-id":m+".input.text"},a.createElement("input",{className:"date-input",ref:function(t){return e.dateInputRef=t},type:"text",value:o,onChange:this.onTypeDate,disabled:l,onClick:p,onBlur:this.onHandleBlur}),a.createElement(i.IconButton,{ariaLabel:f.translate("course.announcements.datePicker.dueDate"),className:"btn-date open-datepicker",disabled:l,iconProps:{iconName:"calendar",iconSize:"small"},onClick:this.toggleCalendar,title:f.translate("course.announcements.datePicker.dueDate"),analyticsId:m+".open.button"}),this.errorMessage()),r&&a.createElement(i.Callout,{target:this.dateInputRef,doNotLayer:!0,directionalHint:5,isBeakVisible:!1,gapSpace:0,setInitialFocus:!1},a.createElement(i.Calendar,{componentRef:function(t){return e.calRef=t},className:"date-picker-dropdown",value:c,strings:t.getDatePickerDefaultStrings(f),isMonthPickerVisible:!1,showGoToToday:!1,onSelectDate:this.onSelectDate,analyticsId:m+".calendar"})))},n}(a.PureComponent);t.DatePicker=s,t.default=u.withAnalytics(s)},ACGm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.VIEW=new t("view"),t.CREATE=new t("create"),t.EDIT=new t("edit"),t.DUPLICATE=new t("duplicate"),t.DELETE=new t("delete"),t}(n("nbDY").default);t.default=a},B1ff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("wgY5"),o=n("MC1S"),u=n("caKH"),s=n("ACGm"),c=n("KBkc");n("q3fC");var l=n("myse"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.timerHandler=null,n.onClickActionMenu=function(e){n.setState({target:e.currentTarget})},n.onOpenDeleteConfirmDialog=function(){n.setState({hideDialog:!1})},n.onCloseDeleteConfirmDialog=function(){n.setState({hideDialog:!0})},n.onOpenAnnouncement=function(){var e=n.props,t=e.courseId,r=e.announcement,a=e.permissions;n.props.openAnnouncementDetailPanel(t,r.id,a)},n.onPostAnnouncement=function(){var e=n.props,t=e.saveAnnouncement,a=e.courseId,o=e.announcement;t(a,r.__assign(r.__assign({},o),{isDraft:!1,startDateRestriction:i().toISOString(),endDateRestriction:""}))},n.onEditAnnouncement=function(){var e=n.props,t=e.courseId,r=e.announcement,a=e.permissions;n.props.openAnnouncementDetailPanel(t,r.id,a,s.default.EDIT)},n.onDuplicateAnnouncement=function(){var e=n.props,t=e.courseId,r=e.announcement,a=e.permissions;n.props.openAnnouncementDetailPanel(t,r.id,a,s.default.DUPLICATE)},n.onDeleteAnnouncement=function(){var e=n.props,t=e.removeAnnouncement,r=e.announcement,a=e.loadAnnouncements,i=e.courseId;t(r.courseId,r.id).then((function(){n.onCloseDeleteConfirmDialog(),a(i,{})}))},n.isPostedAnnouncement=function(e){return!(e.isDraft||e.startDateRestriction&&i(e.startDateRestriction).isAfter(i()))},n.getActionOptions=function(e){var t=n.props,r=t.permissions,a=t.analyticsId,i=t.analyticsEventAugmentor,o={items:[]},u=i(l.AnalyticsEventTypes.CLICK_EVENT,n.onEditAnnouncement,a+".listItem.edit.button"),c=i(l.AnalyticsEventTypes.CLICK_EVENT,n.onDuplicateAnnouncement,a+".listItem.duplicate.button"),f=i(l.AnalyticsEventTypes.CLICK_EVENT,n.onOpenDeleteConfirmDialog,a+".listItem.delete.button");return r&&r.modify&&o.items.push({key:s.default.EDIT,name:e.translate("course.announcements.button.edit"),iconProps:{iconName:"draw",iconSize:"small"},onClick:u}),r&&r.create&&o.items.push({key:s.default.DUPLICATE,name:e.translate("course.announcements.button.duplicate"),iconProps:{iconName:"duplicate",iconSize:"small"},onClick:c}),r&&r.delete&&o.items.push({key:s.default.DELETE,name:e.translate("course.announcements.button.delete"),iconProps:{iconName:"trash",iconSize:"small"},onClick:f}),o},n.renderItemStatus=function(){var e=n.props,t=e.announcement,r=e.localize,i=e.permissions,u=e.analyticsId,s=e.isCourseAvailable,l=e.isCompact,f="course.announcements.status."+(n.isPostedAnnouncement(t)?"posted":"inSchedule")+"."+(l?"uppercase":"capitalize");return t.isDraft&&(f="course.announcements.status.draft"),a.createElement("div",{className:"item-status-info"},t.isDraft&&i.modify?a.createElement(o.DefaultButton,{"data-automation-id":"test",text:r.translate("course.announcements.button.postNow"),onClick:n.onPostAnnouncement,disabled:!i.viewUnposted||!s,analyticsId:u+".listItem.postNow"}):a.createElement("div",null,a.createElement("span",{className:"list-item-status"},i.viewUnposted&&r.translate(f)),a.createElement("span",{className:"list-item-date-sent"},t.startDateRestriction&&!t.isDraft&&c.displayDateTime(t.startDateRestriction,r))))},n.registerTimeoutEvent=function(){var e=n.props,t=e.debounceTime,r=e.onExpire,a=e.announcement;n.timerHandler=setTimeout((function(){r(a.id)}),t)},n.renderDialog=function(){var e=n.props,t=e.localize,r=e.analyticsId;return a.createElement(u.UltraModalDialog,{onDismiss:function(){n.setState({hideDialog:!0})},showAsCallout:!n.state.hideDialog,target:n.state.target,dialogContentProps:{type:o.DialogType.actionConfirmation,title:t.translate("course.announcements.dialogText.deleteAnnouncement"),subText:t.translate("course.announcements.dialogText.confirmDeleteAnnouncement"),showCloseButton:!1},analyticsId:r+".listItem.deleteDialog"},a.createElement(o.DialogFooter,null,a.createElement(o.DefaultButton,{onClick:n.onCloseDeleteConfirmDialog,text:t.translate("course.announcements.button.cancel"),analyticsId:r+".listItem.deleteDialog.cancel.button"}),a.createElement(o.PrimaryButton,{onClick:n.onDeleteAnnouncement,text:t.translate("course.announcements.button.delete"),className:"deleteConfirmBtn",analyticsId:r+".listItem.deleteDialog.confirm.button"})))},n.state={hideDialog:!0,target:null},n}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.isNewlyCreated&&this.registerTimeoutEvent()},t.prototype.componentDidUpdate=function(e){!e.isNewlyCreated&&this.props.isNewlyCreated&&this.registerTimeoutEvent()},t.prototype.componentWillUnmount=function(){this.timerHandler&&clearTimeout(this.timerHandler)},t.prototype.render=function(){var e=this.props,t=e.announcement,n=e.localize,r=e.permissions,i=e.isNewlyCreated,u=e.analyticsId,s=e.analyticsEventAugmentor,f=e.isCompact,m=this.getActionOptions(n),p=s(l.AnalyticsEventTypes.CLICK_EVENT,this.onOpenAnnouncement,u+".listItem.open.link");return a.createElement("tr",{className:"announcement-item-row "+(i?"is-new":""),role:"row"},a.createElement("td",{className:"announcement-header-column "+(r.viewUnposted?"small-1-2":"large-1"),role:"gridcell"},a.createElement("div",{className:"announcement-header"},a.createElement("div",{className:"small-1-1 announcement-icon"+(t.isDraft?" is-restricted":"")},a.createElement(o.SvgIcon,{iconName:"announcement",iconSize:"large",className:"element-image"})),a.createElement("div",{className:"click-message-detail"},a.createElement("div",{className:"announcement-title-detail"},a.createElement("a",{className:"list-item-title "+(r.viewUnposted?"entitled":"")+" ",href:"#","data-analytics-id":u+".listItem.open.link",onClick:p},c.decodeHtmlEntities(t.title)),t.isDraft&&a.createElement("span",{className:"draft-status one-line"},n.translate("course.announcements.status.draft"))),a.createElement("a",{className:"list-item-body "+(r.viewUnposted?"one-line":"three-lines multiple-line-ellipsis"),href:"#",onClick:this.onOpenAnnouncement},t.body&&c.decodeHtmlBodyText(t.body.rawText))),f&&this.renderItemStatus())),!f&&a.createElement("td",{className:"announcement-status-column",role:"gridcell"}," ",this.renderItemStatus()," "),r.viewUnposted&&a.createElement("td",{className:"announcement-viewers-column",role:"gridcell"},a.createElement("div",{className:"announcement-viewers",onClick:this.onClickActionMenu},a.createElement("span",{className:"list-item-view-count"},t.readCount||0," / ",t.totalParticipants),m&&m.items&&m.items.length>0&&a.createElement(o.ActionMenu,{ariaLabel:""+n.translate("course.announcements.moreOptions",{announcementTitle:t.title}),className:"announcement-item-action-menu",disabled:!this.state.hideDialog,menuProps:m,maintainExpandedProperties:!this.state.hideDialog,analyticsId:u+".listItem.actionMenu"}),this.renderDialog())))},t}(a.Component);t.BaseAnnouncementListItem=f,t.default=l.withAnalytics(f)},BM67:function(e,t,n){(function(e,r){var a;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",m=1,p=2,d=4,h=1,v=2,g=1,y=2,_=4,S=8,E=16,b=32,C=64,w=128,D=256,T=512,I=30,P="...",k=800,A=16,x=1,N=2,O=1/0,z=9007199254740991,M=17976931348623157e292,L=NaN,R=4294967295,j=R-1,B=R>>>1,V=[["ary",w],["bind",g],["bindKey",y],["curry",S],["curryRight",E],["flip",T],["partial",b],["partialRight",C],["rearg",D]],U="[object Arguments]",F="[object Array]",W="[object AsyncFunction]",K="[object Boolean]",H="[object Date]",q="[object DOMException]",G="[object Error]",$="[object Function]",J="[object GeneratorFunction]",Y="[object Map]",Z="[object Number]",X="[object Null]",Q="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ae="[object Symbol]",ie="[object Undefined]",oe="[object WeakMap]",ue="[object WeakSet]",se="[object ArrayBuffer]",ce="[object DataView]",le="[object Float32Array]",fe="[object Float64Array]",me="[object Int8Array]",pe="[object Int16Array]",de="[object Int32Array]",he="[object Uint8Array]",ve="[object Uint8ClampedArray]",ge="[object Uint16Array]",ye="[object Uint32Array]",_e=/\b__p \+= '';/g,Se=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,Ce=/[&<>"']/g,we=RegExp(be.source),De=RegExp(Ce.source),Te=/<%-([\s\S]+?)%>/g,Ie=/<%([\s\S]+?)%>/g,Pe=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ae=/^\w*$/,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Ne.source),ze=/^\s+|\s+$/g,Me=/^\s+/,Le=/\s+$/,Re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,Ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,Fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ke=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,$e=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Qe+"]",nt="["+Xe+"]",rt="\\d+",at="[\\u2700-\\u27bf]",it="[a-z\\xdf-\\xf6\\xf8-\\xff]",ot="[^\\ud800-\\udfff"+Qe+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ut="\\ud83c[\\udffb-\\udfff]",st="[^\\ud800-\\udfff]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",mt="(?:"+it+"|"+ot+")",pt="(?:"+ft+"|"+ot+")",dt="(?:"+nt+"|"+ut+")"+"?",ht="[\\ufe0e\\ufe0f]?"+dt+("(?:\\u200d(?:"+[st,ct,lt].join("|")+")[\\ufe0e\\ufe0f]?"+dt+")*"),vt="(?:"+[at,ct,lt].join("|")+")"+ht,gt="(?:"+[st+nt+"?",nt,ct,lt,et].join("|")+")",yt=RegExp("['’]","g"),_t=RegExp(nt,"g"),St=RegExp(ut+"(?="+ut+")|"+gt+ht,"g"),Et=RegExp([ft+"?"+it+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,ft,"$"].join("|")+")",pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ft+mt,"$"].join("|")+")",ft+"?"+mt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,vt].join("|"),"g"),bt=RegExp("[\\u200d\\ud800-\\udfff"+Xe+"\\ufe0e\\ufe0f]"),Ct=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dt=-1,Tt={};Tt[le]=Tt[fe]=Tt[me]=Tt[pe]=Tt[de]=Tt[he]=Tt[ve]=Tt[ge]=Tt[ye]=!0,Tt[U]=Tt[F]=Tt[se]=Tt[K]=Tt[ce]=Tt[H]=Tt[G]=Tt[$]=Tt[Y]=Tt[Z]=Tt[Q]=Tt[te]=Tt[ne]=Tt[re]=Tt[oe]=!1;var It={};It[U]=It[F]=It[se]=It[ce]=It[K]=It[H]=It[le]=It[fe]=It[me]=It[pe]=It[de]=It[Y]=It[Z]=It[Q]=It[te]=It[ne]=It[re]=It[ae]=It[he]=It[ve]=It[ge]=It[ye]=!0,It[G]=It[$]=It[oe]=!1;var Pt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kt=parseFloat,At=parseInt,xt="object"==typeof e&&e&&e.Object===Object&&e,Nt="object"==typeof self&&self&&self.Object===Object&&self,Ot=xt||Nt||Function("return this")(),zt=t&&!t.nodeType&&t,Mt=zt&&"object"==typeof r&&r&&!r.nodeType&&r,Lt=Mt&&Mt.exports===zt,Rt=Lt&&xt.process,jt=function(){try{var e=Mt&&Mt.require&&Mt.require("util").types;return e||Rt&&Rt.binding&&Rt.binding("util")}catch(e){}}(),Bt=jt&&jt.isArrayBuffer,Vt=jt&&jt.isDate,Ut=jt&&jt.isMap,Ft=jt&&jt.isRegExp,Wt=jt&&jt.isSet,Kt=jt&&jt.isTypedArray;function Ht(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function qt(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}function Gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function $t(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Yt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function Zt(e,t){return!!(null==e?0:e.length)&&sn(e,t,0)>-1}function Xt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Qt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function en(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function tn(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function nn(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var an=mn("length");function on(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function un(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function sn(e,t,n){return t==t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):un(e,ln,n)}function cn(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}function ln(e){return e!=e}function fn(e,t){var n=null==e?0:e.length;return n?hn(e,t)/n:L}function mn(e){return function(t){return null==t?i:t[e]}}function pn(e){return function(t){return null==e?i:e[t]}}function dn(e,t,n,r,a){return a(e,(function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)})),n}function hn(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function vn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function gn(e){return function(t){return e(t)}}function yn(e,t){return Qt(t,(function(t){return e[t]}))}function _n(e,t){return e.has(t)}function Sn(e,t){for(var n=-1,r=e.length;++n<r&&sn(t,e[n],0)>-1;);return n}function En(e,t){for(var n=e.length;n--&&sn(t,e[n],0)>-1;);return n}var bn=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Cn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function wn(e){return"\\"+Pt[e]}function Dn(e){return bt.test(e)}function Tn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function In(e,t){return function(n){return e(t(n))}}function Pn(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==f||(e[n]=f,i[a++]=n)}return i}function kn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function An(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function xn(e){return Dn(e)?function(e){var t=St.lastIndex=0;for(;St.test(e);)++t;return t}(e):an(e)}function Nn(e){return Dn(e)?function(e){return e.match(St)||[]}(e):function(e){return e.split("")}(e)}var On=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var zn=function e(t){var n,r=(t=null==t?Ot:zn.defaults(Ot.Object(),t,zn.pick(Ot,wt))).Array,a=t.Date,Xe=t.Error,Qe=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,at=t.TypeError,it=r.prototype,ot=Qe.prototype,ut=tt.prototype,st=t["__core-js_shared__"],ct=ot.toString,lt=ut.hasOwnProperty,ft=0,mt=(n=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",pt=ut.toString,dt=ct.call(tt),ht=Ot._,vt=nt("^"+ct.call(lt).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=Lt?t.Buffer:i,St=t.Symbol,bt=t.Uint8Array,Pt=gt?gt.allocUnsafe:i,xt=In(tt.getPrototypeOf,tt),Nt=tt.create,zt=ut.propertyIsEnumerable,Mt=it.splice,Rt=St?St.isConcatSpreadable:i,jt=St?St.iterator:i,an=St?St.toStringTag:i,pn=function(){try{var e=ji(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Mn=t.clearTimeout!==Ot.clearTimeout&&t.clearTimeout,Ln=a&&a.now!==Ot.Date.now&&a.now,Rn=t.setTimeout!==Ot.setTimeout&&t.setTimeout,jn=et.ceil,Bn=et.floor,Vn=tt.getOwnPropertySymbols,Un=gt?gt.isBuffer:i,Fn=t.isFinite,Wn=it.join,Kn=In(tt.keys,tt),Hn=et.max,qn=et.min,Gn=a.now,$n=t.parseInt,Jn=et.random,Yn=it.reverse,Zn=ji(t,"DataView"),Xn=ji(t,"Map"),Qn=ji(t,"Promise"),er=ji(t,"Set"),tr=ji(t,"WeakMap"),nr=ji(tt,"create"),rr=tr&&new tr,ar={},ir=lo(Zn),or=lo(Xn),ur=lo(Qn),sr=lo(er),cr=lo(tr),lr=St?St.prototype:i,fr=lr?lr.valueOf:i,mr=lr?lr.toString:i;function pr(e){if(Pu(e)&&!gu(e)&&!(e instanceof gr)){if(e instanceof vr)return e;if(lt.call(e,"__wrapped__"))return fo(e)}return new vr(e)}var dr=function(){function e(){}return function(t){if(!Iu(t))return{};if(Nt)return Nt(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function hr(){}function vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function gr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Sr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Er(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Sr;++t<n;)this.add(e[t])}function br(e){var t=this.__data__=new _r(e);this.size=t.size}function Cr(e,t){var n=gu(e),r=!n&&vu(e),a=!n&&!r&&Eu(e),i=!n&&!r&&!a&&Lu(e),o=n||r||a||i,u=o?vn(e.length,rt):[],s=u.length;for(var c in e)!t&&!lt.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Hi(c,s))||u.push(c);return u}function wr(e){var t=e.length;return t?e[Ea(0,t-1)]:i}function Dr(e,t){return uo(ni(e),zr(t,0,e.length))}function Tr(e){return uo(ni(e))}function Ir(e,t,n){(n===i||pu(e[t],n))&&(n!==i||t in e)||Nr(e,t,n)}function Pr(e,t,n){var r=e[t];lt.call(e,t)&&pu(r,n)&&(n!==i||t in e)||Nr(e,t,n)}function kr(e,t){for(var n=e.length;n--;)if(pu(e[n][0],t))return n;return-1}function Ar(e,t,n,r){return Br(e,(function(e,a,i){t(r,e,n(e),i)})),r}function xr(e,t){return e&&ri(t,as(t),e)}function Nr(e,t,n){"__proto__"==t&&pn?pn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Or(e,t){for(var n=-1,a=t.length,o=r(a),u=null==e;++n<a;)o[n]=u?i:Qu(e,t[n]);return o}function zr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Mr(e,t,n,r,a,o){var u,s=t&m,c=t&p,l=t&d;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!Iu(e))return e;var f=gu(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&lt.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return ni(e,u)}else{var h=Ui(e),v=h==$||h==J;if(Eu(e))return Ya(e,s);if(h==Q||h==U||v&&!a){if(u=c||v?{}:Wi(e),!s)return c?function(e,t){return ri(e,Vi(e),t)}(e,function(e,t){return e&&ri(t,is(t),e)}(u,e)):function(e,t){return ri(e,Bi(e),t)}(e,xr(u,e))}else{if(!It[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case se:return Za(e);case K:case H:return new r(+e);case ce:return function(e,t){var n=t?Za(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case le:case fe:case me:case pe:case de:case he:case ve:case ge:case ye:return Xa(e,n);case Y:return new r;case Z:case re:return new r(e);case te:return function(e){var t=new e.constructor(e.source,We.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new r;case ae:return a=e,fr?tt(fr.call(a)):{}}var a}(e,h,s)}}o||(o=new br);var g=o.get(e);if(g)return g;o.set(e,u),Ou(e)?e.forEach((function(r){u.add(Mr(r,t,n,r,e,o))})):ku(e)&&e.forEach((function(r,a){u.set(a,Mr(r,t,n,a,e,o))}));var y=f?i:(l?c?xi:Ai:c?is:as)(e);return Gt(y||e,(function(r,a){y&&(r=e[a=r]),Pr(u,a,Mr(r,t,n,a,e,o))})),u}function Lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=tt(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function Rr(e,t,n){if("function"!=typeof e)throw new at(s);return ro((function(){e.apply(i,n)}),t)}function jr(e,t,n,r){var a=-1,i=Zt,u=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=Qt(t,gn(n))),r?(i=Xt,u=!1):t.length>=o&&(i=_n,u=!1,t=new Er(t));e:for(;++a<s;){var f=e[a],m=null==n?f:n(f);if(f=r||0!==f?f:0,u&&m==m){for(var p=l;p--;)if(t[p]===m)continue e;c.push(f)}else i(t,m,r)||c.push(f)}return c}pr.templateSettings={escape:Te,evaluate:Ie,interpolate:Pe,variable:"",imports:{_:pr}},pr.prototype=hr.prototype,pr.prototype.constructor=pr,vr.prototype=dr(hr.prototype),vr.prototype.constructor=vr,gr.prototype=dr(hr.prototype),gr.prototype.constructor=gr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yr.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===c?i:n}return lt.call(t,e)?t[e]:i},yr.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==i:lt.call(t,e)},yr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nr&&t===i?c:t,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=kr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Mt.call(t,n,1),--this.size,!0)},_r.prototype.get=function(e){var t=this.__data__,n=kr(t,e);return n<0?i:t[n][1]},_r.prototype.has=function(e){return kr(this.__data__,e)>-1},_r.prototype.set=function(e,t){var n=this.__data__,r=kr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Sr.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Xn||_r),string:new yr}},Sr.prototype.delete=function(e){var t=Li(this,e).delete(e);return this.size-=t?1:0,t},Sr.prototype.get=function(e){return Li(this,e).get(e)},Sr.prototype.has=function(e){return Li(this,e).has(e)},Sr.prototype.set=function(e,t){var n=Li(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Er.prototype.add=Er.prototype.push=function(e){return this.__data__.set(e,c),this},Er.prototype.has=function(e){return this.__data__.has(e)},br.prototype.clear=function(){this.__data__=new _r,this.size=0},br.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},br.prototype.get=function(e){return this.__data__.get(e)},br.prototype.has=function(e){return this.__data__.has(e)},br.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Xn||r.length<o-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Sr(r)}return n.set(e,t),this.size=n.size,this};var Br=oi(Gr),Vr=oi($r,!0);function Ur(e,t){var n=!0;return Br(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function Fr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u==u&&!Mu(u):n(u,s)))var s=u,c=o}return c}function Wr(e,t){var n=[];return Br(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function Kr(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=Ki),a||(a=[]);++i<o;){var u=e[i];t>0&&n(u)?t>1?Kr(u,t-1,n,r,a):en(a,u):r||(a[a.length]=u)}return a}var Hr=ui(),qr=ui(!0);function Gr(e,t){return e&&Hr(e,t,as)}function $r(e,t){return e&&qr(e,t,as)}function Jr(e,t){return Yt(t,(function(t){return wu(e[t])}))}function Yr(e,t){for(var n=0,r=(t=qa(t,e)).length;null!=e&&n<r;)e=e[co(t[n++])];return n&&n==r?e:i}function Zr(e,t,n){var r=t(e);return gu(e)?r:en(r,n(e))}function Xr(e){return null==e?e===i?ie:X:an&&an in tt(e)?function(e){var t=lt.call(e,an),n=e[an];try{e[an]=i;var r=!0}catch(e){}var a=pt.call(e);r&&(t?e[an]=n:delete e[an]);return a}(e):function(e){return pt.call(e)}(e)}function Qr(e,t){return e>t}function ea(e,t){return null!=e&&lt.call(e,t)}function ta(e,t){return null!=e&&t in tt(e)}function na(e,t,n){for(var a=n?Xt:Zt,o=e[0].length,u=e.length,s=u,c=r(u),l=1/0,f=[];s--;){var m=e[s];s&&t&&(m=Qt(m,gn(t))),l=qn(m.length,l),c[s]=!n&&(t||o>=120&&m.length>=120)?new Er(s&&m):i}m=e[0];var p=-1,d=c[0];e:for(;++p<o&&f.length<l;){var h=m[p],v=t?t(h):h;if(h=n||0!==h?h:0,!(d?_n(d,v):a(f,v,n))){for(s=u;--s;){var g=c[s];if(!(g?_n(g,v):a(e[s],v,n)))continue e}d&&d.push(v),f.push(h)}}return f}function ra(e,t,n){var r=null==(e=eo(e,t=qa(t,e)))?e:e[co(Co(t))];return null==r?i:Ht(r,e,n)}function aa(e){return Pu(e)&&Xr(e)==U}function ia(e,t,n,r,a){return e===t||(null==e||null==t||!Pu(e)&&!Pu(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var u=gu(e),s=gu(t),c=u?F:Ui(e),l=s?F:Ui(t),f=(c=c==U?Q:c)==Q,m=(l=l==U?Q:l)==Q,p=c==l;if(p&&Eu(e)){if(!Eu(t))return!1;u=!0,f=!1}if(p&&!f)return o||(o=new br),u||Lu(e)?Pi(e,t,n,r,a,o):function(e,t,n,r,a,i,o){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case se:return!(e.byteLength!=t.byteLength||!i(new bt(e),new bt(t)));case K:case H:case Z:return pu(+e,+t);case G:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case Y:var u=Tn;case ne:var s=r&h;if(u||(u=kn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=v,o.set(e,t);var l=Pi(u(e),u(t),r,a,i,o);return o.delete(e),l;case ae:if(fr)return fr.call(e)==fr.call(t)}return!1}(e,t,c,n,r,a,o);if(!(n&h)){var d=f&&lt.call(e,"__wrapped__"),g=m&&lt.call(t,"__wrapped__");if(d||g){var y=d?e.value():e,_=g?t.value():t;return o||(o=new br),a(y,_,n,r,o)}}if(!p)return!1;return o||(o=new br),function(e,t,n,r,a,o){var u=n&h,s=Ai(e),c=s.length,l=Ai(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var m=s[f];if(!(u?m in t:lt.call(t,m)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);var v=u;for(;++f<c;){m=s[f];var g=e[m],y=t[m];if(r)var _=u?r(y,g,m,t,e,o):r(g,y,m,e,t,o);if(!(_===i?g===y||a(g,y,n,r,o):_)){d=!1;break}v||(v="constructor"==m)}if(d&&!v){var S=e.constructor,E=t.constructor;S!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof S&&S instanceof S&&"function"==typeof E&&E instanceof E)&&(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,a,o)}(e,t,n,r,ia,a))}function oa(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=tt(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var m=new br;if(r)var p=r(l,f,c,e,t,m);if(!(p===i?ia(f,l,h|v,r,m):p))return!1}}return!0}function ua(e){return!(!Iu(e)||(t=e,mt&&mt in t))&&(wu(e)?vt:qe).test(lo(e));var t}function sa(e){return"function"==typeof e?e:null==e?As:"object"==typeof e?gu(e)?da(e[0],e[1]):pa(e):Bs(e)}function ca(e){if(!Yi(e))return Kn(e);var t=[];for(var n in tt(e))lt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function la(e){if(!Iu(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Yi(e),n=[];for(var r in e)("constructor"!=r||!t&&lt.call(e,r))&&n.push(r);return n}function fa(e,t){return e<t}function ma(e,t){var n=-1,a=_u(e)?r(e.length):[];return Br(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}function pa(e){var t=Ri(e);return 1==t.length&&t[0][2]?Xi(t[0][0],t[0][1]):function(n){return n===e||oa(n,e,t)}}function da(e,t){return Gi(e)&&Zi(t)?Xi(co(e),t):function(n){var r=Qu(n,e);return r===i&&r===t?es(n,e):ia(t,r,h|v)}}function ha(e,t,n,r,a){e!==t&&Hr(t,(function(o,u){if(a||(a=new br),Iu(o))!function(e,t,n,r,a,o,u){var s=to(e,n),c=to(t,n),l=u.get(c);if(l)return void Ir(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,m=f===i;if(m){var p=gu(c),d=!p&&Eu(c),h=!p&&!d&&Lu(c);f=c,p||d||h?gu(s)?f=s:Su(s)?f=ni(s):d?(m=!1,f=Ya(c,!0)):h?(m=!1,f=Xa(c,!0)):f=[]:xu(c)||vu(c)?(f=s,vu(s)?f=Ku(s):Iu(s)&&!wu(s)||(f=Wi(c))):m=!1}m&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));Ir(e,n,f)}(e,t,u,n,ha,r,a);else{var s=r?r(to(e,u),o,u+"",e,t,a):i;s===i&&(s=o),Ir(e,u,s)}}),is)}function va(e,t){var n=e.length;if(n)return Hi(t+=t<0?n:0,n)?e[t]:i}function ga(e,t,n){var r=-1;return t=Qt(t.length?t:[As],gn(Mi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(ma(e,(function(e,n,a){return{criteria:Qt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,a=e.criteria,i=t.criteria,o=a.length,u=n.length;for(;++r<o;){var s=Qa(a[r],i[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function ya(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],u=Yr(e,o);n(u,o)&&Ta(i,qa(o,e),u)}return i}function _a(e,t,n,r){var a=r?cn:sn,i=-1,o=t.length,u=e;for(e===t&&(t=ni(t)),n&&(u=Qt(e,gn(n)));++i<o;)for(var s=0,c=t[i],l=n?n(c):c;(s=a(u,l,s,r))>-1;)u!==e&&Mt.call(u,s,1),Mt.call(e,s,1);return e}function Sa(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==i){var i=a;Hi(a)?Mt.call(e,a,1):ja(e,a)}}return e}function Ea(e,t){return e+Bn(Jn()*(t-e+1))}function ba(e,t){var n="";if(!e||t<1||t>z)return n;do{t%2&&(n+=e),(t=Bn(t/2))&&(e+=e)}while(t);return n}function Ca(e,t){return ao(Qi(e,t,As),e+"")}function wa(e){return wr(ps(e))}function Da(e,t){var n=ps(e);return uo(n,zr(t,0,n.length))}function Ta(e,t,n,r){if(!Iu(e))return e;for(var a=-1,o=(t=qa(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=co(t[a]),l=n;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=Iu(f)?f:Hi(t[a+1])?[]:{})}Pr(s,c,l),s=s[c]}return e}var Ia=rr?function(e,t){return rr.set(e,t),e}:As,Pa=pn?function(e,t){return pn(e,"toString",{configurable:!0,enumerable:!1,value:Is(t),writable:!0})}:As;function ka(e){return uo(ps(e))}function Aa(e,t,n){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=r(i);++a<i;)o[a]=e[a+t];return o}function xa(e,t){var n;return Br(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function Na(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t==t&&a<=B){for(;r<a;){var i=r+a>>>1,o=e[i];null!==o&&!Mu(o)&&(n?o<=t:o<t)?r=i+1:a=i}return a}return Oa(e,t,As,n)}function Oa(e,t,n,r){t=n(t);for(var a=0,o=null==e?0:e.length,u=t!=t,s=null===t,c=Mu(t),l=t===i;a<o;){var f=Bn((a+o)/2),m=n(e[f]),p=m!==i,d=null===m,h=m==m,v=Mu(m);if(u)var g=r||h;else g=l?h&&(r||p):s?h&&p&&(r||!d):c?h&&p&&!d&&(r||!v):!d&&!v&&(r?m<=t:m<t);g?a=f+1:o=f}return qn(o,j)}function za(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!pu(u,s)){var s=u;i[a++]=0===o?0:o}}return i}function Ma(e){return"number"==typeof e?e:Mu(e)?L:+e}function La(e){if("string"==typeof e)return e;if(gu(e))return Qt(e,La)+"";if(Mu(e))return mr?mr.call(e):"";var t=e+"";return"0"==t&&1/e==-O?"-0":t}function Ra(e,t,n){var r=-1,a=Zt,i=e.length,u=!0,s=[],c=s;if(n)u=!1,a=Xt;else if(i>=o){var l=t?null:bi(e);if(l)return kn(l);u=!1,a=_n,c=new Er}else c=t?[]:s;e:for(;++r<i;){var f=e[r],m=t?t(f):f;if(f=n||0!==f?f:0,u&&m==m){for(var p=c.length;p--;)if(c[p]===m)continue e;t&&c.push(m),s.push(f)}else a(c,m,n)||(c!==s&&c.push(m),s.push(f))}return s}function ja(e,t){return null==(e=eo(e,t=qa(t,e)))||delete e[co(Co(t))]}function Ba(e,t,n,r){return Ta(e,t,n(Yr(e,t)),r)}function Va(e,t,n,r){for(var a=e.length,i=r?a:-1;(r?i--:++i<a)&&t(e[i],i,e););return n?Aa(e,r?0:i,r?i+1:a):Aa(e,r?i+1:0,r?a:i)}function Ua(e,t){var n=e;return n instanceof gr&&(n=n.value()),tn(t,(function(e,t){return t.func.apply(t.thisArg,en([e],t.args))}),n)}function Fa(e,t,n){var a=e.length;if(a<2)return a?Ra(e[0]):[];for(var i=-1,o=r(a);++i<a;)for(var u=e[i],s=-1;++s<a;)s!=i&&(o[i]=jr(o[i]||u,e[s],t,n));return Ra(Kr(o,1),t,n)}function Wa(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function Ka(e){return Su(e)?e:[]}function Ha(e){return"function"==typeof e?e:As}function qa(e,t){return gu(e)?e:Gi(e,t)?[e]:so(Hu(e))}var Ga=Ca;function $a(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Aa(e,t,n)}var Ja=Mn||function(e){return Ot.clearTimeout(e)};function Ya(e,t){if(t)return e.slice();var n=e.length,r=Pt?Pt(n):new e.constructor(n);return e.copy(r),r}function Za(e){var t=new e.constructor(e.byteLength);return new bt(t).set(new bt(e)),t}function Xa(e,t){var n=t?Za(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Qa(e,t){if(e!==t){var n=e!==i,r=null===e,a=e==e,o=Mu(e),u=t!==i,s=null===t,c=t==t,l=Mu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function ei(e,t,n,a){for(var i=-1,o=e.length,u=n.length,s=-1,c=t.length,l=Hn(o-u,0),f=r(c+l),m=!a;++s<c;)f[s]=t[s];for(;++i<u;)(m||i<o)&&(f[n[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}function ti(e,t,n,a){for(var i=-1,o=e.length,u=-1,s=n.length,c=-1,l=t.length,f=Hn(o-s,0),m=r(f+l),p=!a;++i<f;)m[i]=e[i];for(var d=i;++c<l;)m[d+c]=t[c];for(;++u<s;)(p||i<o)&&(m[d+n[u]]=e[i++]);return m}function ni(e,t){var n=-1,a=e.length;for(t||(t=r(a));++n<a;)t[n]=e[n];return t}function ri(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?Nr(n,s,c):Pr(n,s,c)}return n}function ai(e,t){return function(n,r){var a=gu(n)?qt:Ar,i=t?t():{};return a(n,e,Mi(r,2),i)}}function ii(e){return Ca((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&qi(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=tt(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function oi(e,t){return function(n,r){if(null==n)return n;if(!_u(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=tt(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function ui(e){return function(t,n,r){for(var a=-1,i=tt(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(!1===n(i[s],s,i))break}return t}}function si(e){return function(t){var n=Dn(t=Hu(t))?Nn(t):i,r=n?n[0]:t.charAt(0),a=n?$a(n,1).join(""):t.slice(1);return r[e]()+a}}function ci(e){return function(t){return tn(ws(vs(t).replace(yt,"")),e,"")}}function li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=dr(e.prototype),r=e.apply(n,t);return Iu(r)?r:n}}function fi(e){return function(t,n,r){var a=tt(t);if(!_u(t)){var o=Mi(n,3);t=as(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function mi(e){return ki((function(t){var n=t.length,r=n,a=vr.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new at(s);if(a&&!u&&"wrapper"==Oi(o))var u=new vr([],!0)}for(r=u?r:n;++r<n;){var c=Oi(o=t[r]),l="wrapper"==c?Ni(o):i;u=l&&$i(l[0])&&l[1]==(w|S|b|D)&&!l[4].length&&1==l[9]?u[Oi(l[0])].apply(u,l[3]):1==o.length&&$i(o)?u[c]():u.thru(o)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&gu(r))return u.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}}))}function pi(e,t,n,a,o,u,s,c,l,f){var m=t&w,p=t&g,d=t&y,h=t&(S|E),v=t&T,_=d?i:li(e);return function g(){for(var y=arguments.length,S=r(y),E=y;E--;)S[E]=arguments[E];if(h)var b=zi(g),C=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(S,b);if(a&&(S=ei(S,a,o,h)),u&&(S=ti(S,u,s,h)),y-=C,h&&y<f){var w=Pn(S,b);return Si(e,t,pi,g.placeholder,n,S,w,c,l,f-y)}var D=p?n:this,T=d?D[e]:e;return y=S.length,c?S=function(e,t){var n=e.length,r=qn(t.length,n),a=ni(e);for(;r--;){var o=t[r];e[r]=Hi(o,n)?a[o]:i}return e}(S,c):v&&y>1&&S.reverse(),m&&l<y&&(S.length=l),this&&this!==Ot&&this instanceof g&&(T=_||li(T)),T.apply(D,S)}}function di(e,t){return function(n,r){return function(e,t,n,r){return Gr(e,(function(e,a,i){t(r,n(e),a,i)})),r}(n,e,t(r),{})}}function hi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=La(n),r=La(r)):(n=Ma(n),r=Ma(r)),a=e(n,r)}return a}}function vi(e){return ki((function(t){return t=Qt(t,gn(Mi())),Ca((function(n){var r=this;return e(t,(function(e){return Ht(e,r,n)}))}))}))}function gi(e,t){var n=(t=t===i?" ":La(t)).length;if(n<2)return n?ba(t,e):t;var r=ba(t,jn(e/xn(t)));return Dn(t)?$a(Nn(r),0,e).join(""):r.slice(0,e)}function yi(e){return function(t,n,a){return a&&"number"!=typeof a&&qi(t,n,a)&&(n=a=i),t=Vu(t),n===i?(n=t,t=0):n=Vu(n),function(e,t,n,a){for(var i=-1,o=Hn(jn((t-e)/(n||1)),0),u=r(o);o--;)u[a?o:++i]=e,e+=n;return u}(t,n,a=a===i?t<n?1:-1:Vu(a),e)}}function _i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Wu(t),n=Wu(n)),e(t,n)}}function Si(e,t,n,r,a,o,u,s,c,l){var f=t&S;t|=f?b:C,(t&=~(f?C:b))&_||(t&=~(g|y));var m=[e,t,a,f?o:i,f?u:i,f?i:o,f?i:u,s,c,l],p=n.apply(i,m);return $i(e)&&no(p,m),p.placeholder=r,io(p,e,t)}function Ei(e){var t=et[e];return function(e,n){if(e=Wu(e),(n=null==n?0:qn(Uu(n),292))&&Fn(e)){var r=(Hu(e)+"e").split("e");return+((r=(Hu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var bi=er&&1/kn(new er([,-0]))[1]==O?function(e){return new er(e)}:Ms;function Ci(e){return function(t){var n=Ui(t);return n==Y?Tn(t):n==ne?An(t):function(e,t){return Qt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function wi(e,t,n,a,o,u,c,l){var m=t&y;if(!m&&"function"!=typeof e)throw new at(s);var p=a?a.length:0;if(p||(t&=~(b|C),a=o=i),c=c===i?c:Hn(Uu(c),0),l=l===i?l:Uu(l),p-=o?o.length:0,t&C){var d=a,h=o;a=o=i}var v=m?i:Ni(e),T=[e,t,n,a,o,d,h,u,c,l];if(v&&function(e,t){var n=e[1],r=t[1],a=n|r,i=a<(g|y|w),o=r==w&&n==S||r==w&&n==D&&e[7].length<=t[8]||r==(w|D)&&t[7].length<=t[8]&&n==S;if(!i&&!o)return e;r&g&&(e[2]=t[2],a|=n&g?0:_);var u=t[3];if(u){var s=e[3];e[3]=s?ei(s,u,t[4]):u,e[4]=s?Pn(e[3],f):t[4]}(u=t[5])&&(s=e[5],e[5]=s?ti(s,u,t[6]):u,e[6]=s?Pn(e[5],f):t[6]);(u=t[7])&&(e[7]=u);r&w&&(e[8]=null==e[8]?t[8]:qn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(T,v),e=T[0],t=T[1],n=T[2],a=T[3],o=T[4],!(l=T[9]=T[9]===i?m?0:e.length:Hn(T[9]-p,0))&&t&(S|E)&&(t&=~(S|E)),t&&t!=g)I=t==S||t==E?function(e,t,n){var a=li(e);return function o(){for(var u=arguments.length,s=r(u),c=u,l=zi(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:Pn(s,l);return(u-=f.length)<n?Si(e,t,pi,o.placeholder,i,s,f,i,i,n-u):Ht(this&&this!==Ot&&this instanceof o?a:e,this,s)}}(e,t,l):t!=b&&t!=(g|b)||o.length?pi.apply(i,T):function(e,t,n,a){var i=t&g,o=li(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=a.length,f=r(l+s),m=this&&this!==Ot&&this instanceof t?o:e;++c<l;)f[c]=a[c];for(;s--;)f[c++]=arguments[++u];return Ht(m,i?n:this,f)}}(e,t,n,a);else var I=function(e,t,n){var r=t&g,a=li(e);return function t(){return(this&&this!==Ot&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,n);return io((v?Ia:no)(I,T),e,t)}function Di(e,t,n,r){return e===i||pu(e,ut[n])&&!lt.call(r,n)?t:e}function Ti(e,t,n,r,a,o){return Iu(e)&&Iu(t)&&(o.set(t,e),ha(e,t,i,Ti,o),o.delete(t)),e}function Ii(e){return xu(e)?i:e}function Pi(e,t,n,r,a,o){var u=n&h,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var f=-1,m=!0,p=n&v?new Er:i;for(o.set(e,t),o.set(t,e);++f<s;){var d=e[f],g=t[f];if(r)var y=u?r(g,d,f,t,e,o):r(d,g,f,e,t,o);if(y!==i){if(y)continue;m=!1;break}if(p){if(!rn(t,(function(e,t){if(!_n(p,t)&&(d===e||a(d,e,n,r,o)))return p.push(t)}))){m=!1;break}}else if(d!==g&&!a(d,g,n,r,o)){m=!1;break}}return o.delete(e),o.delete(t),m}function ki(e){return ao(Qi(e,i,yo),e+"")}function Ai(e){return Zr(e,as,Bi)}function xi(e){return Zr(e,is,Vi)}var Ni=rr?function(e){return rr.get(e)}:Ms;function Oi(e){for(var t=e.name+"",n=ar[t],r=lt.call(ar,t)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==e)return a.name}return t}function zi(e){return(lt.call(pr,"placeholder")?pr:e).placeholder}function Mi(){var e=pr.iteratee||xs;return e=e===xs?sa:e,arguments.length?e(arguments[0],arguments[1]):e}function Li(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Ri(e){for(var t=as(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Zi(a)]}return t}function ji(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return ua(n)?n:i}var Bi=Vn?function(e){return null==e?[]:(e=tt(e),Yt(Vn(e),(function(t){return zt.call(e,t)})))}:Fs,Vi=Vn?function(e){for(var t=[];e;)en(t,Bi(e)),e=xt(e);return t}:Fs,Ui=Xr;function Fi(e,t,n){for(var r=-1,a=(t=qa(t,e)).length,i=!1;++r<a;){var o=co(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&Tu(a)&&Hi(o,a)&&(gu(e)||vu(e))}function Wi(e){return"function"!=typeof e.constructor||Yi(e)?{}:dr(xt(e))}function Ki(e){return gu(e)||vu(e)||!!(Rt&&e&&e[Rt])}function Hi(e,t){var n=typeof e;return!!(t=null==t?z:t)&&("number"==n||"symbol"!=n&&$e.test(e))&&e>-1&&e%1==0&&e<t}function qi(e,t,n){if(!Iu(n))return!1;var r=typeof t;return!!("number"==r?_u(n)&&Hi(t,n.length):"string"==r&&t in n)&&pu(n[t],e)}function Gi(e,t){if(gu(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Mu(e))||(Ae.test(e)||!ke.test(e)||null!=t&&e in tt(t))}function $i(e){var t=Oi(e),n=pr[t];if("function"!=typeof n||!(t in gr.prototype))return!1;if(e===n)return!0;var r=Ni(n);return!!r&&e===r[0]}(Zn&&Ui(new Zn(new ArrayBuffer(1)))!=ce||Xn&&Ui(new Xn)!=Y||Qn&&"[object Promise]"!=Ui(Qn.resolve())||er&&Ui(new er)!=ne||tr&&Ui(new tr)!=oe)&&(Ui=function(e){var t=Xr(e),n=t==Q?e.constructor:i,r=n?lo(n):"";if(r)switch(r){case ir:return ce;case or:return Y;case ur:return"[object Promise]";case sr:return ne;case cr:return oe}return t});var Ji=st?wu:Ws;function Yi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ut)}function Zi(e){return e==e&&!Iu(e)}function Xi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in tt(n)))}}function Qi(e,t,n){return t=Hn(t===i?e.length-1:t,0),function(){for(var a=arguments,i=-1,o=Hn(a.length-t,0),u=r(o);++i<o;)u[i]=a[t+i];i=-1;for(var s=r(t+1);++i<t;)s[i]=a[i];return s[t]=n(u),Ht(e,this,s)}}function eo(e,t){return t.length<2?e:Yr(e,Aa(t,0,-1))}function to(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var no=oo(Ia),ro=Rn||function(e,t){return Ot.setTimeout(e,t)},ao=oo(Pa);function io(e,t,n){var r=t+"";return ao(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Re,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Gt(V,(function(n){var r="_."+n[0];t&n[1]&&!Zt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(je);return t?t[1].split(Be):[]}(r),n)))}function oo(e){var t=0,n=0;return function(){var r=Gn(),a=A-(r-n);if(n=r,a>0){if(++t>=k)return arguments[0]}else t=0;return e.apply(i,arguments)}}function uo(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Ea(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var so=function(e){var t=uu(e,(function(e){return n.size===l&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xe,(function(e,n,r,a){t.push(r?a.replace(Ue,"$1"):n||e)})),t}));function co(e){if("string"==typeof e||Mu(e))return e;var t=e+"";return"0"==t&&1/e==-O?"-0":t}function lo(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function fo(e){if(e instanceof gr)return e.clone();var t=new vr(e.__wrapped__,e.__chain__);return t.__actions__=ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var mo=Ca((function(e,t){return Su(e)?jr(e,Kr(t,1,Su,!0)):[]})),po=Ca((function(e,t){var n=Co(t);return Su(n)&&(n=i),Su(e)?jr(e,Kr(t,1,Su,!0),Mi(n,2)):[]})),ho=Ca((function(e,t){var n=Co(t);return Su(n)&&(n=i),Su(e)?jr(e,Kr(t,1,Su,!0),i,n):[]}));function vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Uu(n);return a<0&&(a=Hn(r+a,0)),un(e,Mi(t,3),a)}function go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=Uu(n),a=n<0?Hn(r+a,0):qn(a,r-1)),un(e,Mi(t,3),a,!0)}function yo(e){return(null==e?0:e.length)?Kr(e,1):[]}function _o(e){return e&&e.length?e[0]:i}var So=Ca((function(e){var t=Qt(e,Ka);return t.length&&t[0]===e[0]?na(t):[]})),Eo=Ca((function(e){var t=Co(e),n=Qt(e,Ka);return t===Co(n)?t=i:n.pop(),n.length&&n[0]===e[0]?na(n,Mi(t,2)):[]})),bo=Ca((function(e){var t=Co(e),n=Qt(e,Ka);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?na(n,i,t):[]}));function Co(e){var t=null==e?0:e.length;return t?e[t-1]:i}var wo=Ca(Do);function Do(e,t){return e&&e.length&&t&&t.length?_a(e,t):e}var To=ki((function(e,t){var n=null==e?0:e.length,r=Or(e,t);return Sa(e,Qt(t,(function(e){return Hi(e,n)?+e:e})).sort(Qa)),r}));function Io(e){return null==e?e:Yn.call(e)}var Po=Ca((function(e){return Ra(Kr(e,1,Su,!0))})),ko=Ca((function(e){var t=Co(e);return Su(t)&&(t=i),Ra(Kr(e,1,Su,!0),Mi(t,2))})),Ao=Ca((function(e){var t=Co(e);return t="function"==typeof t?t:i,Ra(Kr(e,1,Su,!0),i,t)}));function xo(e){if(!e||!e.length)return[];var t=0;return e=Yt(e,(function(e){if(Su(e))return t=Hn(e.length,t),!0})),vn(t,(function(t){return Qt(e,mn(t))}))}function No(e,t){if(!e||!e.length)return[];var n=xo(e);return null==t?n:Qt(n,(function(e){return Ht(t,i,e)}))}var Oo=Ca((function(e,t){return Su(e)?jr(e,t):[]})),zo=Ca((function(e){return Fa(Yt(e,Su))})),Mo=Ca((function(e){var t=Co(e);return Su(t)&&(t=i),Fa(Yt(e,Su),Mi(t,2))})),Lo=Ca((function(e){var t=Co(e);return t="function"==typeof t?t:i,Fa(Yt(e,Su),i,t)})),Ro=Ca(xo);var jo=Ca((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,No(e,n)}));function Bo(e){var t=pr(e);return t.__chain__=!0,t}function Vo(e,t){return t(e)}var Uo=ki((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return Or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof gr&&Hi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Vo,args:[a],thisArg:i}),new vr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var Fo=ai((function(e,t,n){lt.call(e,n)?++e[n]:Nr(e,n,1)}));var Wo=fi(vo),Ko=fi(go);function Ho(e,t){return(gu(e)?Gt:Br)(e,Mi(t,3))}function qo(e,t){return(gu(e)?$t:Vr)(e,Mi(t,3))}var Go=ai((function(e,t,n){lt.call(e,n)?e[n].push(t):Nr(e,n,[t])}));var $o=Ca((function(e,t,n){var a=-1,i="function"==typeof t,o=_u(e)?r(e.length):[];return Br(e,(function(e){o[++a]=i?Ht(t,e,n):ra(e,t,n)})),o})),Jo=ai((function(e,t,n){Nr(e,n,t)}));function Yo(e,t){return(gu(e)?Qt:ma)(e,Mi(t,3))}var Zo=ai((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Xo=Ca((function(e,t){if(null==e)return[];var n=t.length;return n>1&&qi(e,t[0],t[1])?t=[]:n>2&&qi(t[0],t[1],t[2])&&(t=[t[0]]),ga(e,Kr(t,1),[])})),Qo=Ln||function(){return Ot.Date.now()};function eu(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,wi(e,w,i,i,i,i,t)}function tu(e,t){var n;if("function"!=typeof t)throw new at(s);return e=Uu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var nu=Ca((function(e,t,n){var r=g;if(n.length){var a=Pn(n,zi(nu));r|=b}return wi(e,r,t,n,a)})),ru=Ca((function(e,t,n){var r=g|y;if(n.length){var a=Pn(n,zi(ru));r|=b}return wi(t,r,e,n,a)}));function au(e,t,n){var r,a,o,u,c,l,f=0,m=!1,p=!1,d=!0;if("function"!=typeof e)throw new at(s);function h(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function v(e){var n=e-l;return l===i||n>=t||n<0||p&&e-f>=o}function g(){var e=Qo();if(v(e))return y(e);c=ro(g,function(e){var n=t-(e-l);return p?qn(n,o-(e-f)):n}(e))}function y(e){return c=i,d&&r?h(e):(r=a=i,u)}function _(){var e=Qo(),n=v(e);if(r=arguments,a=this,l=e,n){if(c===i)return function(e){return f=e,c=ro(g,t),m?h(e):u}(l);if(p)return Ja(c),c=ro(g,t),h(l)}return c===i&&(c=ro(g,t)),u}return t=Wu(t)||0,Iu(n)&&(m=!!n.leading,o=(p="maxWait"in n)?Hn(Wu(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),_.cancel=function(){c!==i&&Ja(c),f=0,r=l=a=c=i},_.flush=function(){return c===i?u:y(Qo())},_}var iu=Ca((function(e,t){return Rr(e,1,t)})),ou=Ca((function(e,t,n){return Rr(e,Wu(t)||0,n)}));function uu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new at(s);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(uu.Cache||Sr),n}function su(e){if("function"!=typeof e)throw new at(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}uu.Cache=Sr;var cu=Ga((function(e,t){var n=(t=1==t.length&&gu(t[0])?Qt(t[0],gn(Mi())):Qt(Kr(t,1),gn(Mi()))).length;return Ca((function(r){for(var a=-1,i=qn(r.length,n);++a<i;)r[a]=t[a].call(this,r[a]);return Ht(e,this,r)}))})),lu=Ca((function(e,t){var n=Pn(t,zi(lu));return wi(e,b,i,t,n)})),fu=Ca((function(e,t){var n=Pn(t,zi(fu));return wi(e,C,i,t,n)})),mu=ki((function(e,t){return wi(e,D,i,i,i,t)}));function pu(e,t){return e===t||e!=e&&t!=t}var du=_i(Qr),hu=_i((function(e,t){return e>=t})),vu=aa(function(){return arguments}())?aa:function(e){return Pu(e)&&lt.call(e,"callee")&&!zt.call(e,"callee")},gu=r.isArray,yu=Bt?gn(Bt):function(e){return Pu(e)&&Xr(e)==se};function _u(e){return null!=e&&Tu(e.length)&&!wu(e)}function Su(e){return Pu(e)&&_u(e)}var Eu=Un||Ws,bu=Vt?gn(Vt):function(e){return Pu(e)&&Xr(e)==H};function Cu(e){if(!Pu(e))return!1;var t=Xr(e);return t==G||t==q||"string"==typeof e.message&&"string"==typeof e.name&&!xu(e)}function wu(e){if(!Iu(e))return!1;var t=Xr(e);return t==$||t==J||t==W||t==ee}function Du(e){return"number"==typeof e&&e==Uu(e)}function Tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=z}function Iu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Pu(e){return null!=e&&"object"==typeof e}var ku=Ut?gn(Ut):function(e){return Pu(e)&&Ui(e)==Y};function Au(e){return"number"==typeof e||Pu(e)&&Xr(e)==Z}function xu(e){if(!Pu(e)||Xr(e)!=Q)return!1;var t=xt(e);if(null===t)return!0;var n=lt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ct.call(n)==dt}var Nu=Ft?gn(Ft):function(e){return Pu(e)&&Xr(e)==te};var Ou=Wt?gn(Wt):function(e){return Pu(e)&&Ui(e)==ne};function zu(e){return"string"==typeof e||!gu(e)&&Pu(e)&&Xr(e)==re}function Mu(e){return"symbol"==typeof e||Pu(e)&&Xr(e)==ae}var Lu=Kt?gn(Kt):function(e){return Pu(e)&&Tu(e.length)&&!!Tt[Xr(e)]};var Ru=_i(fa),ju=_i((function(e,t){return e<=t}));function Bu(e){if(!e)return[];if(_u(e))return zu(e)?Nn(e):ni(e);if(jt&&e[jt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[jt]());var t=Ui(e);return(t==Y?Tn:t==ne?kn:ps)(e)}function Vu(e){return e?(e=Wu(e))===O||e===-O?(e<0?-1:1)*M:e==e?e:0:0===e?e:0}function Uu(e){var t=Vu(e),n=t%1;return t==t?n?t-n:t:0}function Fu(e){return e?zr(Uu(e),0,R):0}function Wu(e){if("number"==typeof e)return e;if(Mu(e))return L;if(Iu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Iu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ze,"");var n=He.test(e);return n||Ge.test(e)?At(e.slice(2),n?2:8):Ke.test(e)?L:+e}function Ku(e){return ri(e,is(e))}function Hu(e){return null==e?"":La(e)}var qu=ii((function(e,t){if(Yi(t)||_u(t))ri(t,as(t),e);else for(var n in t)lt.call(t,n)&&Pr(e,n,t[n])})),Gu=ii((function(e,t){ri(t,is(t),e)})),$u=ii((function(e,t,n,r){ri(t,is(t),e,r)})),Ju=ii((function(e,t,n,r){ri(t,as(t),e,r)})),Yu=ki(Or);var Zu=Ca((function(e,t){e=tt(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&qi(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=is(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||pu(f,ut[l])&&!lt.call(e,l))&&(e[l]=o[l])}return e})),Xu=Ca((function(e){return e.push(i,Ti),Ht(us,i,e)}));function Qu(e,t,n){var r=null==e?i:Yr(e,t);return r===i?n:r}function es(e,t){return null!=e&&Fi(e,t,ta)}var ts=di((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),e[t]=n}),Is(As)),ns=di((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),lt.call(e,t)?e[t].push(n):e[t]=[n]}),Mi),rs=Ca(ra);function as(e){return _u(e)?Cr(e):ca(e)}function is(e){return _u(e)?Cr(e,!0):la(e)}var os=ii((function(e,t,n){ha(e,t,n)})),us=ii((function(e,t,n,r){ha(e,t,n,r)})),ss=ki((function(e,t){var n={};if(null==e)return n;var r=!1;t=Qt(t,(function(t){return t=qa(t,e),r||(r=t.length>1),t})),ri(e,xi(e),n),r&&(n=Mr(n,m|p|d,Ii));for(var a=t.length;a--;)ja(n,t[a]);return n}));var cs=ki((function(e,t){return null==e?{}:function(e,t){return ya(e,t,(function(t,n){return es(e,n)}))}(e,t)}));function ls(e,t){if(null==e)return{};var n=Qt(xi(e),(function(e){return[e]}));return t=Mi(t),ya(e,n,(function(e,n){return t(e,n[0])}))}var fs=Ci(as),ms=Ci(is);function ps(e){return null==e?[]:yn(e,as(e))}var ds=ci((function(e,t,n){return t=t.toLowerCase(),e+(n?hs(t):t)}));function hs(e){return Cs(Hu(e).toLowerCase())}function vs(e){return(e=Hu(e))&&e.replace(Je,bn).replace(_t,"")}var gs=ci((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),ys=ci((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),_s=si("toLowerCase");var Ss=ci((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Es=ci((function(e,t,n){return e+(n?" ":"")+Cs(t)}));var bs=ci((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Cs=si("toUpperCase");function ws(e,t,n){return e=Hu(e),(t=n?i:t)===i?function(e){return Ct.test(e)}(e)?function(e){return e.match(Et)||[]}(e):function(e){return e.match(Ve)||[]}(e):e.match(t)||[]}var Ds=Ca((function(e,t){try{return Ht(e,i,t)}catch(e){return Cu(e)?e:new Xe(e)}})),Ts=ki((function(e,t){return Gt(t,(function(t){t=co(t),Nr(e,t,nu(e[t],e))})),e}));function Is(e){return function(){return e}}var Ps=mi(),ks=mi(!0);function As(e){return e}function xs(e){return sa("function"==typeof e?e:Mr(e,m))}var Ns=Ca((function(e,t){return function(n){return ra(n,e,t)}})),Os=Ca((function(e,t){return function(n){return ra(e,n,t)}}));function zs(e,t,n){var r=as(t),a=Jr(t,r);null!=n||Iu(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=Jr(t,as(t)));var i=!(Iu(n)&&"chain"in n&&!n.chain),o=wu(e);return Gt(a,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),a=n.__actions__=ni(this.__actions__);return a.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})})),e}function Ms(){}var Ls=vi(Qt),Rs=vi(Jt),js=vi(rn);function Bs(e){return Gi(e)?mn(co(e)):function(e){return function(t){return Yr(t,e)}}(e)}var Vs=yi(),Us=yi(!0);function Fs(){return[]}function Ws(){return!1}var Ks=hi((function(e,t){return e+t}),0),Hs=Ei("ceil"),qs=hi((function(e,t){return e/t}),1),Gs=Ei("floor");var $s,Js=hi((function(e,t){return e*t}),1),Ys=Ei("round"),Zs=hi((function(e,t){return e-t}),0);return pr.after=function(e,t){if("function"!=typeof t)throw new at(s);return e=Uu(e),function(){if(--e<1)return t.apply(this,arguments)}},pr.ary=eu,pr.assign=qu,pr.assignIn=Gu,pr.assignInWith=$u,pr.assignWith=Ju,pr.at=Yu,pr.before=tu,pr.bind=nu,pr.bindAll=Ts,pr.bindKey=ru,pr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return gu(e)?e:[e]},pr.chain=Bo,pr.chunk=function(e,t,n){t=(n?qi(e,t,n):t===i)?1:Hn(Uu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=r(jn(a/t));o<a;)s[u++]=Aa(e,o,o+=t);return s},pr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a},pr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return en(gu(n)?ni(n):[n],Kr(t,1))},pr.cond=function(e){var t=null==e?0:e.length,n=Mi();return e=t?Qt(e,(function(e){if("function"!=typeof e[1])throw new at(s);return[n(e[0]),e[1]]})):[],Ca((function(n){for(var r=-1;++r<t;){var a=e[r];if(Ht(a[0],this,n))return Ht(a[1],this,n)}}))},pr.conforms=function(e){return function(e){var t=as(e);return function(n){return Lr(n,e,t)}}(Mr(e,m))},pr.constant=Is,pr.countBy=Fo,pr.create=function(e,t){var n=dr(e);return null==t?n:xr(n,t)},pr.curry=function e(t,n,r){var a=wi(t,S,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},pr.curryRight=function e(t,n,r){var a=wi(t,E,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},pr.debounce=au,pr.defaults=Zu,pr.defaultsDeep=Xu,pr.defer=iu,pr.delay=ou,pr.difference=mo,pr.differenceBy=po,pr.differenceWith=ho,pr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Aa(e,(t=n||t===i?1:Uu(t))<0?0:t,r):[]},pr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Aa(e,0,(t=r-(t=n||t===i?1:Uu(t)))<0?0:t):[]},pr.dropRightWhile=function(e,t){return e&&e.length?Va(e,Mi(t,3),!0,!0):[]},pr.dropWhile=function(e,t){return e&&e.length?Va(e,Mi(t,3),!0):[]},pr.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&qi(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=Uu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:Uu(r))<0&&(r+=a),r=n>r?0:Fu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},pr.filter=function(e,t){return(gu(e)?Yt:Wr)(e,Mi(t,3))},pr.flatMap=function(e,t){return Kr(Yo(e,t),1)},pr.flatMapDeep=function(e,t){return Kr(Yo(e,t),O)},pr.flatMapDepth=function(e,t,n){return n=n===i?1:Uu(n),Kr(Yo(e,t),n)},pr.flatten=yo,pr.flattenDeep=function(e){return(null==e?0:e.length)?Kr(e,O):[]},pr.flattenDepth=function(e,t){return(null==e?0:e.length)?Kr(e,t=t===i?1:Uu(t)):[]},pr.flip=function(e){return wi(e,T)},pr.flow=Ps,pr.flowRight=ks,pr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},pr.functions=function(e){return null==e?[]:Jr(e,as(e))},pr.functionsIn=function(e){return null==e?[]:Jr(e,is(e))},pr.groupBy=Go,pr.initial=function(e){return(null==e?0:e.length)?Aa(e,0,-1):[]},pr.intersection=So,pr.intersectionBy=Eo,pr.intersectionWith=bo,pr.invert=ts,pr.invertBy=ns,pr.invokeMap=$o,pr.iteratee=xs,pr.keyBy=Jo,pr.keys=as,pr.keysIn=is,pr.map=Yo,pr.mapKeys=function(e,t){var n={};return t=Mi(t,3),Gr(e,(function(e,r,a){Nr(n,t(e,r,a),e)})),n},pr.mapValues=function(e,t){var n={};return t=Mi(t,3),Gr(e,(function(e,r,a){Nr(n,r,t(e,r,a))})),n},pr.matches=function(e){return pa(Mr(e,m))},pr.matchesProperty=function(e,t){return da(e,Mr(t,m))},pr.memoize=uu,pr.merge=os,pr.mergeWith=us,pr.method=Ns,pr.methodOf=Os,pr.mixin=zs,pr.negate=su,pr.nthArg=function(e){return e=Uu(e),Ca((function(t){return va(t,e)}))},pr.omit=ss,pr.omitBy=function(e,t){return ls(e,su(Mi(t)))},pr.once=function(e){return tu(2,e)},pr.orderBy=function(e,t,n,r){return null==e?[]:(gu(t)||(t=null==t?[]:[t]),gu(n=r?i:n)||(n=null==n?[]:[n]),ga(e,t,n))},pr.over=Ls,pr.overArgs=cu,pr.overEvery=Rs,pr.overSome=js,pr.partial=lu,pr.partialRight=fu,pr.partition=Zo,pr.pick=cs,pr.pickBy=ls,pr.property=Bs,pr.propertyOf=function(e){return function(t){return null==e?i:Yr(e,t)}},pr.pull=wo,pr.pullAll=Do,pr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_a(e,t,Mi(n,2)):e},pr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_a(e,t,i,n):e},pr.pullAt=To,pr.range=Vs,pr.rangeRight=Us,pr.rearg=mu,pr.reject=function(e,t){return(gu(e)?Yt:Wr)(e,su(Mi(t,3)))},pr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],i=e.length;for(t=Mi(t,3);++r<i;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return Sa(e,a),n},pr.rest=function(e,t){if("function"!=typeof e)throw new at(s);return Ca(e,t=t===i?t:Uu(t))},pr.reverse=Io,pr.sampleSize=function(e,t,n){return t=(n?qi(e,t,n):t===i)?1:Uu(t),(gu(e)?Dr:Da)(e,t)},pr.set=function(e,t,n){return null==e?e:Ta(e,t,n)},pr.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Ta(e,t,n,r)},pr.shuffle=function(e){return(gu(e)?Tr:ka)(e)},pr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&qi(e,t,n)?(t=0,n=r):(t=null==t?0:Uu(t),n=n===i?r:Uu(n)),Aa(e,t,n)):[]},pr.sortBy=Xo,pr.sortedUniq=function(e){return e&&e.length?za(e):[]},pr.sortedUniqBy=function(e,t){return e&&e.length?za(e,Mi(t,2)):[]},pr.split=function(e,t,n){return n&&"number"!=typeof n&&qi(e,t,n)&&(t=n=i),(n=n===i?R:n>>>0)?(e=Hu(e))&&("string"==typeof t||null!=t&&!Nu(t))&&!(t=La(t))&&Dn(e)?$a(Nn(e),0,n):e.split(t,n):[]},pr.spread=function(e,t){if("function"!=typeof e)throw new at(s);return t=null==t?0:Hn(Uu(t),0),Ca((function(n){var r=n[t],a=$a(n,0,t);return r&&en(a,r),Ht(e,this,a)}))},pr.tail=function(e){var t=null==e?0:e.length;return t?Aa(e,1,t):[]},pr.take=function(e,t,n){return e&&e.length?Aa(e,0,(t=n||t===i?1:Uu(t))<0?0:t):[]},pr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Aa(e,(t=r-(t=n||t===i?1:Uu(t)))<0?0:t,r):[]},pr.takeRightWhile=function(e,t){return e&&e.length?Va(e,Mi(t,3),!1,!0):[]},pr.takeWhile=function(e,t){return e&&e.length?Va(e,Mi(t,3)):[]},pr.tap=function(e,t){return t(e),e},pr.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new at(s);return Iu(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),au(e,t,{leading:r,maxWait:t,trailing:a})},pr.thru=Vo,pr.toArray=Bu,pr.toPairs=fs,pr.toPairsIn=ms,pr.toPath=function(e){return gu(e)?Qt(e,co):Mu(e)?[e]:ni(so(Hu(e)))},pr.toPlainObject=Ku,pr.transform=function(e,t,n){var r=gu(e),a=r||Eu(e)||Lu(e);if(t=Mi(t,4),null==n){var i=e&&e.constructor;n=a?r?new i:[]:Iu(e)&&wu(i)?dr(xt(e)):{}}return(a?Gt:Gr)(e,(function(e,r,a){return t(n,e,r,a)})),n},pr.unary=function(e){return eu(e,1)},pr.union=Po,pr.unionBy=ko,pr.unionWith=Ao,pr.uniq=function(e){return e&&e.length?Ra(e):[]},pr.uniqBy=function(e,t){return e&&e.length?Ra(e,Mi(t,2)):[]},pr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?Ra(e,i,t):[]},pr.unset=function(e,t){return null==e||ja(e,t)},pr.unzip=xo,pr.unzipWith=No,pr.update=function(e,t,n){return null==e?e:Ba(e,t,Ha(n))},pr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Ba(e,t,Ha(n),r)},pr.values=ps,pr.valuesIn=function(e){return null==e?[]:yn(e,is(e))},pr.without=Oo,pr.words=ws,pr.wrap=function(e,t){return lu(Ha(t),e)},pr.xor=zo,pr.xorBy=Mo,pr.xorWith=Lo,pr.zip=Ro,pr.zipObject=function(e,t){return Wa(e||[],t||[],Pr)},pr.zipObjectDeep=function(e,t){return Wa(e||[],t||[],Ta)},pr.zipWith=jo,pr.entries=fs,pr.entriesIn=ms,pr.extend=Gu,pr.extendWith=$u,zs(pr,pr),pr.add=Ks,pr.attempt=Ds,pr.camelCase=ds,pr.capitalize=hs,pr.ceil=Hs,pr.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=Wu(n))==n?n:0),t!==i&&(t=(t=Wu(t))==t?t:0),zr(Wu(e),t,n)},pr.clone=function(e){return Mr(e,d)},pr.cloneDeep=function(e){return Mr(e,m|d)},pr.cloneDeepWith=function(e,t){return Mr(e,m|d,t="function"==typeof t?t:i)},pr.cloneWith=function(e,t){return Mr(e,d,t="function"==typeof t?t:i)},pr.conformsTo=function(e,t){return null==t||Lr(e,t,as(t))},pr.deburr=vs,pr.defaultTo=function(e,t){return null==e||e!=e?t:e},pr.divide=qs,pr.endsWith=function(e,t,n){e=Hu(e),t=La(t);var r=e.length,a=n=n===i?r:zr(Uu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},pr.eq=pu,pr.escape=function(e){return(e=Hu(e))&&De.test(e)?e.replace(Ce,Cn):e},pr.escapeRegExp=function(e){return(e=Hu(e))&&Oe.test(e)?e.replace(Ne,"\\$&"):e},pr.every=function(e,t,n){var r=gu(e)?Jt:Ur;return n&&qi(e,t,n)&&(t=i),r(e,Mi(t,3))},pr.find=Wo,pr.findIndex=vo,pr.findKey=function(e,t){return on(e,Mi(t,3),Gr)},pr.findLast=Ko,pr.findLastIndex=go,pr.findLastKey=function(e,t){return on(e,Mi(t,3),$r)},pr.floor=Gs,pr.forEach=Ho,pr.forEachRight=qo,pr.forIn=function(e,t){return null==e?e:Hr(e,Mi(t,3),is)},pr.forInRight=function(e,t){return null==e?e:qr(e,Mi(t,3),is)},pr.forOwn=function(e,t){return e&&Gr(e,Mi(t,3))},pr.forOwnRight=function(e,t){return e&&$r(e,Mi(t,3))},pr.get=Qu,pr.gt=du,pr.gte=hu,pr.has=function(e,t){return null!=e&&Fi(e,t,ea)},pr.hasIn=es,pr.head=_o,pr.identity=As,pr.includes=function(e,t,n,r){e=_u(e)?e:ps(e),n=n&&!r?Uu(n):0;var a=e.length;return n<0&&(n=Hn(a+n,0)),zu(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&sn(e,t,n)>-1},pr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Uu(n);return a<0&&(a=Hn(r+a,0)),sn(e,t,a)},pr.inRange=function(e,t,n){return t=Vu(t),n===i?(n=t,t=0):n=Vu(n),function(e,t,n){return e>=qn(t,n)&&e<Hn(t,n)}(e=Wu(e),t,n)},pr.invoke=rs,pr.isArguments=vu,pr.isArray=gu,pr.isArrayBuffer=yu,pr.isArrayLike=_u,pr.isArrayLikeObject=Su,pr.isBoolean=function(e){return!0===e||!1===e||Pu(e)&&Xr(e)==K},pr.isBuffer=Eu,pr.isDate=bu,pr.isElement=function(e){return Pu(e)&&1===e.nodeType&&!xu(e)},pr.isEmpty=function(e){if(null==e)return!0;if(_u(e)&&(gu(e)||"string"==typeof e||"function"==typeof e.splice||Eu(e)||Lu(e)||vu(e)))return!e.length;var t=Ui(e);if(t==Y||t==ne)return!e.size;if(Yi(e))return!ca(e).length;for(var n in e)if(lt.call(e,n))return!1;return!0},pr.isEqual=function(e,t){return ia(e,t)},pr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?ia(e,t,i,n):!!r},pr.isError=Cu,pr.isFinite=function(e){return"number"==typeof e&&Fn(e)},pr.isFunction=wu,pr.isInteger=Du,pr.isLength=Tu,pr.isMap=ku,pr.isMatch=function(e,t){return e===t||oa(e,t,Ri(t))},pr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,oa(e,t,Ri(t),n)},pr.isNaN=function(e){return Au(e)&&e!=+e},pr.isNative=function(e){if(Ji(e))throw new Xe(u);return ua(e)},pr.isNil=function(e){return null==e},pr.isNull=function(e){return null===e},pr.isNumber=Au,pr.isObject=Iu,pr.isObjectLike=Pu,pr.isPlainObject=xu,pr.isRegExp=Nu,pr.isSafeInteger=function(e){return Du(e)&&e>=-z&&e<=z},pr.isSet=Ou,pr.isString=zu,pr.isSymbol=Mu,pr.isTypedArray=Lu,pr.isUndefined=function(e){return e===i},pr.isWeakMap=function(e){return Pu(e)&&Ui(e)==oe},pr.isWeakSet=function(e){return Pu(e)&&Xr(e)==ue},pr.join=function(e,t){return null==e?"":Wn.call(e,t)},pr.kebabCase=gs,pr.last=Co,pr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=Uu(n))<0?Hn(r+a,0):qn(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):un(e,ln,a,!0)},pr.lowerCase=ys,pr.lowerFirst=_s,pr.lt=Ru,pr.lte=ju,pr.max=function(e){return e&&e.length?Fr(e,As,Qr):i},pr.maxBy=function(e,t){return e&&e.length?Fr(e,Mi(t,2),Qr):i},pr.mean=function(e){return fn(e,As)},pr.meanBy=function(e,t){return fn(e,Mi(t,2))},pr.min=function(e){return e&&e.length?Fr(e,As,fa):i},pr.minBy=function(e,t){return e&&e.length?Fr(e,Mi(t,2),fa):i},pr.stubArray=Fs,pr.stubFalse=Ws,pr.stubObject=function(){return{}},pr.stubString=function(){return""},pr.stubTrue=function(){return!0},pr.multiply=Js,pr.nth=function(e,t){return e&&e.length?va(e,Uu(t)):i},pr.noConflict=function(){return Ot._===this&&(Ot._=ht),this},pr.noop=Ms,pr.now=Qo,pr.pad=function(e,t,n){e=Hu(e);var r=(t=Uu(t))?xn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return gi(Bn(a),n)+e+gi(jn(a),n)},pr.padEnd=function(e,t,n){e=Hu(e);var r=(t=Uu(t))?xn(e):0;return t&&r<t?e+gi(t-r,n):e},pr.padStart=function(e,t,n){e=Hu(e);var r=(t=Uu(t))?xn(e):0;return t&&r<t?gi(t-r,n)+e:e},pr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),$n(Hu(e).replace(Me,""),t||0)},pr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&qi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Vu(e),t===i?(t=e,e=0):t=Vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Jn();return qn(e+a*(t-e+kt("1e-"+((a+"").length-1))),t)}return Ea(e,t)},pr.reduce=function(e,t,n){var r=gu(e)?tn:dn,a=arguments.length<3;return r(e,Mi(t,4),n,a,Br)},pr.reduceRight=function(e,t,n){var r=gu(e)?nn:dn,a=arguments.length<3;return r(e,Mi(t,4),n,a,Vr)},pr.repeat=function(e,t,n){return t=(n?qi(e,t,n):t===i)?1:Uu(t),ba(Hu(e),t)},pr.replace=function(){var e=arguments,t=Hu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pr.result=function(e,t,n){var r=-1,a=(t=qa(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[co(t[r])];o===i&&(r=a,o=n),e=wu(o)?o.call(e):o}return e},pr.round=Ys,pr.runInContext=e,pr.sample=function(e){return(gu(e)?wr:wa)(e)},pr.size=function(e){if(null==e)return 0;if(_u(e))return zu(e)?xn(e):e.length;var t=Ui(e);return t==Y||t==ne?e.size:ca(e).length},pr.snakeCase=Ss,pr.some=function(e,t,n){var r=gu(e)?rn:xa;return n&&qi(e,t,n)&&(t=i),r(e,Mi(t,3))},pr.sortedIndex=function(e,t){return Na(e,t)},pr.sortedIndexBy=function(e,t,n){return Oa(e,t,Mi(n,2))},pr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Na(e,t);if(r<n&&pu(e[r],t))return r}return-1},pr.sortedLastIndex=function(e,t){return Na(e,t,!0)},pr.sortedLastIndexBy=function(e,t,n){return Oa(e,t,Mi(n,2),!0)},pr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Na(e,t,!0)-1;if(pu(e[n],t))return n}return-1},pr.startCase=Es,pr.startsWith=function(e,t,n){return e=Hu(e),n=null==n?0:zr(Uu(n),0,e.length),t=La(t),e.slice(n,n+t.length)==t},pr.subtract=Zs,pr.sum=function(e){return e&&e.length?hn(e,As):0},pr.sumBy=function(e,t){return e&&e.length?hn(e,Mi(t,2)):0},pr.template=function(e,t,n){var r=pr.templateSettings;n&&qi(e,t,n)&&(t=i),e=Hu(e),t=$u({},t,r,Di);var a,o,u=$u({},t.imports,r.imports,Di),s=as(u),c=yn(u,s),l=0,f=t.interpolate||Ye,m="__p += '",p=nt((t.escape||Ye).source+"|"+f.source+"|"+(f===Pe?Fe:Ye).source+"|"+(t.evaluate||Ye).source+"|$","g"),d="//# sourceURL="+(lt.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Dt+"]")+"\n";e.replace(p,(function(t,n,r,i,u,s){return r||(r=i),m+=e.slice(l,s).replace(Ze,wn),n&&(a=!0,m+="' +\n__e("+n+") +\n'"),u&&(o=!0,m+="';\n"+u+";\n__p += '"),r&&(m+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),m+="';\n";var h=lt.call(t,"variable")&&t.variable;h||(m="with (obj) {\n"+m+"\n}\n"),m=(o?m.replace(_e,""):m).replace(Se,"$1").replace(Ee,"$1;"),m="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var v=Ds((function(){return Qe(s,d+"return "+m).apply(i,c)}));if(v.source=m,Cu(v))throw v;return v},pr.times=function(e,t){if((e=Uu(e))<1||e>z)return[];var n=R,r=qn(e,R);t=Mi(t),e-=R;for(var a=vn(r,t);++n<e;)t(n);return a},pr.toFinite=Vu,pr.toInteger=Uu,pr.toLength=Fu,pr.toLower=function(e){return Hu(e).toLowerCase()},pr.toNumber=Wu,pr.toSafeInteger=function(e){return e?zr(Uu(e),-z,z):0===e?e:0},pr.toString=Hu,pr.toUpper=function(e){return Hu(e).toUpperCase()},pr.trim=function(e,t,n){if((e=Hu(e))&&(n||t===i))return e.replace(ze,"");if(!e||!(t=La(t)))return e;var r=Nn(e),a=Nn(t);return $a(r,Sn(r,a),En(r,a)+1).join("")},pr.trimEnd=function(e,t,n){if((e=Hu(e))&&(n||t===i))return e.replace(Le,"");if(!e||!(t=La(t)))return e;var r=Nn(e);return $a(r,0,En(r,Nn(t))+1).join("")},pr.trimStart=function(e,t,n){if((e=Hu(e))&&(n||t===i))return e.replace(Me,"");if(!e||!(t=La(t)))return e;var r=Nn(e);return $a(r,Sn(r,Nn(t))).join("")},pr.truncate=function(e,t){var n=I,r=P;if(Iu(t)){var a="separator"in t?t.separator:a;n="length"in t?Uu(t.length):n,r="omission"in t?La(t.omission):r}var o=(e=Hu(e)).length;if(Dn(e)){var u=Nn(e);o=u.length}if(n>=o)return e;var s=n-xn(r);if(s<1)return r;var c=u?$a(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),Nu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=nt(a.source,Hu(We.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var m=l.index;c=c.slice(0,m===i?s:m)}}else if(e.indexOf(La(a),s)!=s){var p=c.lastIndexOf(a);p>-1&&(c=c.slice(0,p))}return c+r},pr.unescape=function(e){return(e=Hu(e))&&we.test(e)?e.replace(be,On):e},pr.uniqueId=function(e){var t=++ft;return Hu(e)+t},pr.upperCase=bs,pr.upperFirst=Cs,pr.each=Ho,pr.eachRight=qo,pr.first=_o,zs(pr,($s={},Gr(pr,(function(e,t){lt.call(pr.prototype,t)||($s[t]=e)})),$s),{chain:!1}),pr.VERSION="4.17.15",Gt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){pr[e].placeholder=pr})),Gt(["drop","take"],(function(e,t){gr.prototype[e]=function(n){n=n===i?1:Hn(Uu(n),0);var r=this.__filtered__&&!t?new gr(this):this.clone();return r.__filtered__?r.__takeCount__=qn(n,r.__takeCount__):r.__views__.push({size:qn(n,R),type:e+(r.__dir__<0?"Right":"")}),r},gr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Gt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==x||3==n;gr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Mi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Gt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");gr.prototype[e]=function(){return this[n](1).value()[0]}})),Gt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");gr.prototype[e]=function(){return this.__filtered__?new gr(this):this[n](1)}})),gr.prototype.compact=function(){return this.filter(As)},gr.prototype.find=function(e){return this.filter(e).head()},gr.prototype.findLast=function(e){return this.reverse().find(e)},gr.prototype.invokeMap=Ca((function(e,t){return"function"==typeof e?new gr(this):this.map((function(n){return ra(n,e,t)}))})),gr.prototype.reject=function(e){return this.filter(su(Mi(e)))},gr.prototype.slice=function(e,t){e=Uu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new gr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=Uu(t))<0?n.dropRight(-t):n.take(t-e)),n)},gr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},gr.prototype.toArray=function(){return this.take(R)},Gr(gr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=pr[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(pr.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof gr,c=u[0],l=s||gu(t),f=function(e){var t=a.apply(pr,en([e],u));return r&&m?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var m=this.__chain__,p=!!this.__actions__.length,d=o&&!m,h=s&&!p;if(!o&&l){t=h?t:new gr(this);var v=e.apply(t,u);return v.__actions__.push({func:Vo,args:[f],thisArg:i}),new vr(v,m)}return d&&h?e.apply(this,u):(v=this.thru(f),d?r?v.value()[0]:v.value():v)})})),Gt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);pr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(gu(a)?a:[],e)}return this[n]((function(n){return t.apply(gu(n)?n:[],e)}))}})),Gr(gr.prototype,(function(e,t){var n=pr[t];if(n){var r=n.name+"";lt.call(ar,r)||(ar[r]=[]),ar[r].push({name:t,func:n})}})),ar[pi(i,y).name]=[{name:"wrapper",func:i}],gr.prototype.clone=function(){var e=new gr(this.__wrapped__);return e.__actions__=ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ni(this.__views__),e},gr.prototype.reverse=function(){if(this.__filtered__){var e=new gr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},gr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=gu(e),r=t<0,a=n?e.length:0,i=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=qn(t,e+o);break;case"takeRight":e=Hn(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=i.start,u=i.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,m=0,p=qn(s,this.__takeCount__);if(!n||!r&&a==s&&p==s)return Ua(e,this.__actions__);var d=[];e:for(;s--&&m<p;){for(var h=-1,v=e[c+=t];++h<f;){var g=l[h],y=g.iteratee,_=g.type,S=y(v);if(_==N)v=S;else if(!S){if(_==x)continue e;break e}}d[m++]=v}return d},pr.prototype.at=Uo,pr.prototype.chain=function(){return Bo(this)},pr.prototype.commit=function(){return new vr(this.value(),this.__chain__)},pr.prototype.next=function(){this.__values__===i&&(this.__values__=Bu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},pr.prototype.plant=function(e){for(var t,n=this;n instanceof hr;){var r=fo(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},pr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof gr){var t=e;return this.__actions__.length&&(t=new gr(this)),(t=t.reverse()).__actions__.push({func:Vo,args:[Io],thisArg:i}),new vr(t,this.__chain__)}return this.thru(Io)},pr.prototype.toJSON=pr.prototype.valueOf=pr.prototype.value=function(){return Ua(this.__wrapped__,this.__actions__)},pr.prototype.first=pr.prototype.head,jt&&(pr.prototype[jt]=function(){return this}),pr}();Ot._=zn,(a=function(){return zn}.call(t,n,t,r))===i||(r.exports=a)}).call(this)}).call(this,n("fRV1"),n("aYSr")(e))},EfSB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("BM67"),o=n("MC1S"),u=n("myse");n("GrH5");var s=function(e){function t(t){var n=e.call(this,t)||this;return n.debouncedSearch=i.debounce((function(){var e=n.props,t=e.courseId,r=(e.notifyStateChange,e.searchAnnouncements);n.setState({shouldNotify:!0}),n.state.isValidSearch&&r(t,{searchText:encodeURIComponent(n.state.text.trim())})}),n.props.debounceTime),n.focusElement=function(e){e.focus()},n.shouldStartSearching=function(e){return!e.trim().length||e.trim().length>=n.props.minCharToStartSearching},n.showCharacterInsufficient=function(e){return!!e.trim()&&e.trim().length<n.props.minCharToStartSearching},n.handleSearchTextChange=function(e){var t=e.target.value;n.setState({text:t,isValidSearch:n.shouldStartSearching(t),shouldNotify:!1}),n.debouncedSearch()},n.handleEnterToSearch=function(e){var t=n.props,r=t.searchAnnouncements,a=t.courseId,i=t.notifyStateChange;"Enter"===e.key&&(n.setState((function(e){return{isValidSearch:e.text.trim().length>0}})),n.state.isValidSearch&&(i(n.state.text,n.state.isCollapsed,n.state.isValidSearch),r(a,{searchText:encodeURIComponent(n.state.text.trim())})))},n.closeSearchInput=function(){n.setState({text:"",isCollapsed:!0,isValidSearch:!1})},n.state={text:"",isCollapsed:!1,isValidSearch:!1,shouldNotify:!0},n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.isCollapsed&&!e.searchText.trim().length&&this.debouncedSearch.cancel(),this.setState({text:e.searchText,isCollapsed:e.isCollapsed})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.isCollapsed,a=n.notifyStateChange;!0===e.isCollapsed&&r!==e.isCollapsed&&this.focusElement(this.searchInput),this.showCharacterInsufficient(this.state.text)?this.searchInput.addEventListener("keyup",this.handleEnterToSearch):this.searchInput.removeEventListener("keyup",this.handleEnterToSearch),this.state.shouldNotify&&a(this.state.text,this.state.isCollapsed,this.state.isValidSearch)},t.prototype.render=function(){var e=this,t=this.props,n=t.localize,r=t.analyticsId,i=(0,t.analyticsEventAugmentor)(u.AnalyticsEventTypes.CLICK_EVENT,(function(){}),r);return a.createElement("div",{className:"search-input-wrap","data-analytics-id":r},a.createElement(o.SvgIcon,{className:"search-icon",iconSize:"small",iconName:"search"}),a.createElement("label",{className:"sr-only",htmlFor:"search-input"},this.props.placeHolder),a.createElement("input",{className:"left",id:"search-input",onChange:this.handleSearchTextChange,placeholder:this.props.placeHolder,ref:function(t){e.searchInput=t},type:"text",value:this.state.text,onClick:i}),a.createElement(o.IconButton,{ariaLabel:n.translate("course.announcements.button.closeSearch"),className:"search-controls button super-clear",iconProps:{iconName:"clear",iconSize:"small"},onClick:this.closeSearchInput,title:n.translate("course.announcements.button.closeSearch"),analyticsId:"course.announcements.listPanel.closeSearch.button"}))},t}(a.PureComponent);t.SearchInput=s,t.default=u.withAnalytics(s)},GrH5:function(e,t,n){},H5dd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("BM67"),o=n("kBJj"),u=n("8unJ"),s=n("JfV0"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getEditorElement=function(){return document.querySelector(".bb-editor")},t.prepareEditorPlugins=function(){var e=t.props,n=e.babelfishFormatInstance,a=e.babelfishInstance,i=e.currentLocale,u=e.editor,c=r.__assign(r.__assign({},u.pluginConfig),{babelfishFormatInstance:n,babelfishInstance:a,apiBasePath:s.config.apiBasePath,locale:i,xsrfToken:s.config.xsrf}),l=[o.link(),o.image(),o.video(),o.insertLocalFile(c),o.videoEverywhere(c)];return c.openKloudlessModal&&l.push(o.insertKloudlessFile(r.__assign({openKloudlessModal:c.openKloudlessModal},c))),c.getEmbedSrc&&l.push(o.insertYoutubeVideo(r.__assign({getEmbedSrc:c.getEmbedSrc},c))),l},t.focusEditor=function(){var e=t.getEditorElement();e&&e.focus()},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.editor.isReadOnly||this.focusEditor()},t.prototype.shouldComponentUpdate=function(e){return i.differenceWith([e.editor],[this.props.editor],i.isEqual).length>0},t.prototype.componentDidUpdate=function(){this.props.editor.isReadOnly||this.focusEditor()},t.prototype.render=function(){var e=this.props,t=e.currentLocale,n=e.editor,i=this.prepareEditorPlugins();return a.createElement(o.BbEditor,r.__assign({},n,{locale:t,plugins:i}))},t}(a.Component);t.BaseBbEditorWrapper=c,t.BbEditorWrapper=u.localizedComponentWrapper(c)},K2uC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("uDfI"),o=n("x6OE"),u=n("O94r"),s=n("MC1S"),c=n("8unJ"),l=n("B1ff"),f=n("EfSB"),m=n("aoM1"),p=n("ACGm"),d=n("KBkc"),h=n("E1pj");n("yVEt");var v=n("JfV0"),g=n("9OUN"),y=2;t.ANNOUNCEMENT_LIMIT=10;var _=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderAnnouncementItem=function(e){var t=n.props,r=t.courseId,i=(t.getAnnouncementsCounts,t.courseContext),o=t.localize,u=t.openAnnouncementDetailPanel,s=t.permissions,c=t.removeAnnouncement,f=t.saveAnnouncement,m=t.recentUpdatedAnnouncementIds,p=t.removeFromRecentUpdated,d=t.UltraWindowSize,h=Object.values(n.props.announcements)[e];return a.createElement(l.default,{announcement:h,courseId:r,debounceTime:2e3,isCompact:null==d?void 0:d.isSmallBreakpoint(),isCourseAvailable:i.isAvailable,isNewlyCreated:m&&m.indexOf(h.id)>-1,localize:o,key:h.id,onExpire:p,openAnnouncementDetailPanel:u,permissions:s,removeAnnouncement:c,saveAnnouncement:f,loadAnnouncements:n.loadAnnByCurrentSettings,analyticsId:"course.announcements.listPanel"})},n.onScroll=function(){if(n.list){var e=n.props,t=e.announcements,r=e.paging,a=e.loadAnnouncements,i=e.courseId,o=e.searchInputState,u=e.sortCriteria,s=o.searchText,c=Object.keys(t).length;n.list.getVisibleRange()[1]>=c-1&&c<r.count&&a(i,{offset:c,searchText:s,sort:u},!0)}},n.searchInputStateChange=function(e,t,r){var a=n.props,i=a.searchInputState,o=a.changeSearchInputState;t&&t!==i.isCollapsed?n.onToggleSearchInput():e===i.searchText&&t===i.isCollapsed&&r===i.isValidSearch||o({searchText:e,isCollapsed:t,isValidSearch:r})},n.onToggleSearchInput=function(){var e=n.props,t=e.courseId,r=e.searchInputState,a=e.changeSearchInputState,i=!r.isCollapsed,o=i?"":r.searchText;a({searchText:o,isCollapsed:i}),i&&r.searchText.trim().length>0&&n.loadAnnByCurrentSettings(t,{searchText:o})},n.onSwitchSortCriteria=function(e){var t=n.props,r=t.courseId;(0,t.switchSortCriteria)(e),n.loadAnnByCurrentSettings(r,{sort:e})},n.onCreateAnnouncement=function(){n.props.openAnnouncementDetailPanel(n.props.courseId,null,n.props.permissions,p.default.CREATE)},n.loadAnnByCurrentSettings=function(e,r){var a=n.props,i=a.announcements,o=a.searchInputState,u=a.loadAnnouncements,s=a.sortCriteria,c=r||{},l=null!=c.searchText?c.searchText:!o.isCollapsed&&o.searchText.trim()||"",f=c.sort||s,m=i&&Object.keys(i).length||0;u(e,{searchText:l,limit:c.limit||Math.max(m,t.ANNOUNCEMENT_LIMIT),offset:c.offset||0,sort:f})},n.renderNoResultString=function(e){var t=n.props,r=t.searchInputState,i=t.localize,o=t.isLoading,u=t.paging,s=t.isSearchingSuccessful,c=t.courseContext;return r.searchText?e?a.createElement("p",{className:"search-insufficient","aria-live":"assertive"},i.translate("course.announcements.characterInsufficient")):s&&a.createElement("p",{className:"search-no-results ng-scope","aria-live":"assertive"},i.translate("course.announcements.noSearchResult")):!o&&0===u.count&&r.isCollapsed&&a.createElement("p",{className:"search-no-results ng-scope"},i.translate(d.resolveCourseOrgToken("announcements.noResult",c)))},n.renderAnnouncementListView=function(e){var t=n.props,r=t.localize,i=t.searchInputState,s=t.sortCriteria,c=t.isSearchingSuccessful,l=t.permissions,f=t.courseContext,p=t.UltraWindowSize,h=i.searchText.trim(),g=!i.isCollapsed&&h.length&&h.length<y&&!i.isValidSearch;return e>0&&!g?a.createElement("div",{className:u.default("tabular-list-container",{"-with-seach-bar":!i.isCollapsed})},a.createElement("div",{className:"tabular-list"},a.createElement("table",{className:"table-content sortable-table",role:"grid","aria-readonly":!0,"aria-labelledby":"announcement-table-caption"},a.createElement("caption",{id:"announcement-table-caption",className:"sr-only"},r.translate(d.resolveCourseOrgToken("announcements.pageTitle",f))),a.createElement("thead",{className:"list-item-columns announcement-sort-header"},a.createElement("tr",{className:"list-item-row announcement-sort-row",role:"row"},a.createElement("th",{className:"column-title sort",role:"columnheader",id:"title"},a.createElement(m.default,{courseId:n.props.courseId,currentSort:s,localize:r,onSwitchSortCriteria:n.onSwitchSortCriteria,sortCriteria:[v.SortCriteriaEnum.TITLE_ASC,v.SortCriteriaEnum.TITLE_DESC],viewText:"title",analyticsId:"course.announcements.listPanel.sortByTitle.button"})),!p.isSmallBreakpoint()&&a.createElement("th",{className:"column-"+(l.viewUnposted?"status":"date")+" sort",role:"columnheader",id:l.viewUnposted?"status":"date"},a.createElement(m.default,{courseId:n.props.courseId,currentSort:s,localize:r,onSwitchSortCriteria:n.onSwitchSortCriteria,sortCriteria:l.viewUnposted?[v.SortCriteriaEnum.STATUS_ASC,v.SortCriteriaEnum.STATUS_DESC]:[v.SortCriteriaEnum.DATE_ASC,v.SortCriteriaEnum.DATE_DESC],viewText:n.props.localize.translate(l.viewUnposted?"status":"date"),analyticsId:"course.announcements.listPanel.sortByDate.button"})),l.viewUnposted&&a.createElement("th",{className:"column-viewers sort",role:"columnheader",id:"viewers"},a.createElement(m.default,{courseId:n.props.courseId,currentSort:s,localize:r,onSwitchSortCriteria:n.onSwitchSortCriteria,sortCriteria:[v.SortCriteriaEnum.VIEWS_ASC,v.SortCriteriaEnum.VIEWS_DESC],viewText:"viewers",analyticsId:"course.announcements.listPanel.sortByViews.button"})))),a.createElement(o,{itemsRenderer:function(e,t){return a.createElement("tbody",{ref:t},e)},length:Object.values(n.props.announcements).length,itemRenderer:n.renderAnnouncementItem,ref:function(e){return n.list=e}}),i.isValidSearch&&c&&a.createElement("div",{"aria-live":"polite","aria-hidden":!1,className:"sr-only",role:"status"},r.translate("course.announcements.searchResults"))))):a.createElement("div",{className:"columns small-12 no-result-section"},a.createElement("div",{className:"row"},a.createElement("div",{className:"columns small-12 small-centered text-center ftue-container"},n.renderNoResultString(g))))},n}return r.__extends(n,e),n.prototype.componentDidMount=function(){var e=this.props,t=e.courseId,n=e.courseContext,r=e.getAnnouncementsCounts,a=e.getCourseContext,i=e.permissions,o=e.root,u=e.switchSortCriteria,s=i.viewUnposted?v.SortCriteriaEnum.MODIFIED_DATE_DESC:v.SortCriteriaEnum.DATE_DESC;u(s),this.loadAnnByCurrentSettings(t,{sort:s}),r(t),n&&n.courseId===t||a(t),(o&&o.querySelector(".panel-wrap")||window).addEventListener("scroll",this.onScroll),(o&&o.querySelector(".panel-wrap")||window).addEventListener("touchmove",this.onScroll)},n.prototype.componentDidUpdate=function(e){this.props.listener.refreshAnnouncementsCounts&&!e.listener.refreshAnnouncementsCounts&&this.props.getAnnouncementsCounts(this.props.courseId),this.props.listener.resetSortSetting&&!e.listener.resetSortSetting&&this.props.switchSortCriteria(v.SortCriteriaEnum.MODIFIED_DATE_DESC),this.props.listener.resetSearchSetting&&!e.listener.resetSearchSetting&&this.props.changeSearchInputState({searchText:"",isCollapsed:!0}),this.props.listener.refreshAnnouncements&&!e.listener.refreshAnnouncements&&this.props.loadAnnouncements(this.props.courseId,{searchText:this.props.searchInputState.searchText})},n.prototype.componentWillUnmount=function(){var e=this.props,t=e.root,n=e.clearAnnouncements;(t&&t.querySelector(".panel-wrap")||window).removeEventListener("scroll",this.onScroll),(t&&t.querySelector(".panel-wrap")||window).removeEventListener("touchmove",this.onScroll),n()},n.prototype.render=function(){var e=this.props,t=e.announcements,n=e.paging,r=e.permissions,i=e.searchInputState,o=e.courseId,u=e.courseContext,c=e.localize,l=e.announcementsCounts,m=e.UltraWindowSize,p=t&&Object.keys(t).length||0,h=(null==m?void 0:m.isMediumBreakpoint())||(null==m?void 0:m.isSmallBreakpoint());return a.createElement("div",{className:"page-announcement course-announcement-layer"},a.createElement("div",{className:"panel-wrap"},a.createElement("header",{className:"panel-header simple-header"},a.createElement("div",{className:"panel-titles-container"},a.createElement("span",{className:"panel-sub-title"},u&&u.displayName||""),a.createElement("div",{className:"editable-title-container black-header-contents"},a.createElement(s.IconButton,{ariaLabel:c.translate("base.menu"),className:"left-off-canvas-toggle menu-toggle  standard-button dark-background",iconProps:{iconName:"main-menu"},title:c.translate("base.menu"),analyticsId:"course.announcements.listPanel.menu.button"}),a.createElement("h1",{className:"panel-title"},c.translate(d.resolveCourseOrgToken("announcements.pageTitle",u))))),a.createElement("div",{className:"header-actions-menu__item active no-select"},a.createElement("div",{className:"active no-select"},a.createElement(s.IconButton,{ariaLabel:c.translate("course.announcements.search.placeHolder"),className:"anchor-button",iconProps:{iconName:"search",iconSize:h?"small":"medium"},id:"search-button",onClick:this.onToggleSearchInput,title:c.translate("course.announcements.search.placeHolder"),analyticsId:"course.announcements.listPanel.search.button"})))),a.createElement("div",{className:"guidance-wrapper "+(i.isCollapsed?"":"hide")},l&&n.count>=0&&a.createElement("span",null,r.viewUnposted?c.translate("course.announcements.guidance.instructor",{postedCount:l.postedCount||0,scheduledCount:l.scheduledCount||0})+c.translate("course.announcements.guidance.draftCount.plural",{draftCount:l.draftCount||0}):c.translate("course.announcements.guidance.student",{totalCount:n.count||0})),r.create&&a.createElement(s.IconButton,{ariaLabel:c.translate("course.announcements.createAnnouncement"),className:"create-announcement",iconProps:{iconName:h?"add":"add-circle",iconSize:h?"small":"medium"},onClick:this.onCreateAnnouncement,title:c.translate("course.announcements.createAnnouncement"),analyticsId:"course.announcements.listPanel.create.button"})),a.createElement("div",{className:"panel-content"},a.createElement("div",{className:"row collapse "+(i.isCollapsed?"hide":""),id:"announcement-search"},a.createElement(f.default,{courseId:o,debounceTime:1500,isCollapsed:i.isCollapsed,localize:c,minCharToStartSearching:y,notifyStateChange:this.searchInputStateChange,placeHolder:c.translate("course.announcements.search.placeHolder"),searchAnnouncements:this.loadAnnByCurrentSettings,searchText:i.searchText,analyticsId:"course.announcements.listPanel.search.input.text"})),a.createElement("div",{className:"row collapse"},this.renderAnnouncementListView(p),this.props.isLoading?a.createElement("div",{className:"spinner bb-secondary-color-2"}):""))))},n}(a.PureComponent);t.AnnouncementListPanel=_,t.default=i.connect((function(e){return{announcements:e.announcement.announcements,isLoading:e.announcement.isLoading,isSearchingSuccessful:e.announcement.isSearchingSuccessful,searchInputState:e.announcement.searchInputState,paging:e.announcement.paging,announcementsCounts:e.announcement.announcementsCounts,courseContext:e.announcement.courseContext,sortCriteria:e.announcement.sortCriteria,listener:e.announcement.listener,recentUpdatedAnnouncementIds:e.announcement.recentUpdatedAnnouncementIds}}),(function(e){return g.bindActionCreators({loadAnnouncements:v.actions.announcement.loadAnnouncements,removeAnnouncement:v.actions.announcement.removeAnnouncement,saveAnnouncement:v.actions.announcement.saveAnnouncement,changeSearchInputState:v.actions.announcement.changeSearchInputState,getAnnouncementsCounts:v.actions.announcement.getAnnouncementsCounts,getCourseContext:v.actions.announcement.getCourseContext,switchSortCriteria:v.actions.announcement.switchSortCriteria,clearAnnouncements:v.actions.announcement.clearAnnouncements,removeFromRecentUpdated:v.actions.announcement.removeFromRecentUpdated},e)}))(h.windowResizingResponsiveComponentWrapper(c.localizedComponentWrapper(_)))},K81p:function(e,t,n){},KBkc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("wgY5"),a=n("n7/H"),i=864e5,o="components.directives.duration.agoText";t.displayDateTime=function(e,t){var n="";if(e&&r(e).isValid()){var u=r(e).toDate();if(function(e,t,n){return e>=t&&e<n}((new Date).getTime()-u.getTime(),0,i)){var s=t.formatDuration(u,{},a.ILocaleDateFormat.Short);n=t.translate(o,{durationDate:s.date||"",durationTime:s.time||""})}else n=t.formatDatetime(u,a.ILocaleDatetimeFormat.Short)}return n};var u=document.createElement("textarea");t.decodeHtmlEntities=function(e){return u.innerHTML=e,u.value},t.decodeHtmlBodyText=function(e){e=e.replace(/"{"/g,"'{\"").replace(/"}"/g,"\"}'");var t=(new DOMParser).parseFromString(e,"text/html");return Array.from(t.getElementsByTagName("a")).forEach((function(e){var t=JSON.parse(e.getAttribute("data-bbfile"));(null==t?void 0:t.alternativeText)?e.text="["+t.alternativeText+"]":(null==t?void 0:t.alt)?e.text="["+t.alt+"]":e.text="["+e.text+"]"})),t.body.innerHTML=t.body.innerHTML.replace(/</g," <"),(t.body.innerText||t.body.innerHTML).trim()},t.decodeOnlyAngleBracketHtmlEntities=function(e){return null==e?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<")},t.encodeHtmlEntities=function(e){return null==e?e:e.replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}))},t.buildDateTimeMoment=function(e,t){var n=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds());return r(n)},t.resolveCourseOrgToken=function(e,t){return(t&&t.isOrganization?"organization.":"course.")+e}},KJxd:function(e,t,n){},LStL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("uDfI"),o=n("8unJ"),u=n("MC1S"),s=n("gh1U"),c=n("JfV0"),l=n("KBkc");n("K81p");var f=n("9OUN"),m=function(e){function t(t){var n=e.call(this,t)||this;return n.onOpenAllAnnouncements=function(){(0,n.props.onOpenAllAnnouncements)(),n.onDismissAll()},n.openAnnouncementDetail=function(e){(0,n.props.openAnnouncementDetail)(e),n.onDismissAll()},n.onDismissAll=function(){n.announcementSlides.forEach((function(e){return n.props.dismissAnnouncementItem(e.sourceEntry)})),n.onCloseSlideModal()},n.updateContext=function(){var e=n.state,t=e.currentViewingIndex,r=e.currentAnnouncement,a=n.props,i=a.courseContext,o=a.getCourseContext;r&&r.courseId&&t>=0&&(i&&i.courseId===r.courseId||o(r.courseId))},n.onCloseSlideModal=function(){n.setState({showModal:!1})},n.state={currentAnnouncement:null,currentViewingIndex:-1,showModal:!1},n}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.fetchAnnouncementSlides().then((function(t){t.sort((function(e,t){return e.startDateRestriction&&t.startDateRestriction?e.startDateRestriction.localeCompare(t.startDateRestriction):0})),e.announcementSlides=t.slice(),e.announcementSlides.length>0&&e.setState({currentViewingIndex:0,currentAnnouncement:r.__assign({},e.announcementSlides[0]),showModal:!0},e.updateContext),e.elementCards=e.announcementSlides.map((function(t){return a.createElement("li",{className:"element-card",key:t.id},a.createElement("div",{className:"element-image"},a.createElement(u.SvgIcon,{iconName:"announcement",iconSize:"large",className:"element-image"})),a.createElement("div",{className:"element-details"},a.createElement("div",{className:"name"},a.createElement("a",{className:"rows-block header-title",onClick:function(){e.openAnnouncementDetail(t.id)},href:"#"},l.decodeHtmlEntities(t.title)),a.createElement("span",{className:"rows-block header-sent-date"},l.displayDateTime(t.startDateRestriction,e.props.localize))),a.createElement("br",null),a.createElement("div",{className:"rows-block body-text message-entries"},a.createElement("p",null,l.decodeHtmlBodyText(t.body.rawText)))))}))}))},t.prototype.render=function(){var e=this.props,t=e.localize,n=e.courseContext;return a.createElement(s.Modal,{isOpen:this.state.showModal,containerClassName:"ms-modalExample-container container-inherit"},a.createElement("div",{className:"notice notification "+this.props.courseColorClass+" reveal-modal course-announcements-slide open in"},a.createElement("div",{className:"title-container"},a.createElement("h1",{className:"title-modal"},t.translate(l.resolveCourseOrgToken("announcements.newCourseAnnouncements",n))),a.createElement(u.IconButton,{"aria-label":t.translate("course.announcements.closeModal"),className:"close-modal-button",iconProps:{iconName:"close",iconSize:"small"},onClick:this.onDismissAll,analyticsId:"course.announcements.modal.close.button"})),a.createElement("div",{className:"modal-contents"},a.createElement("ul",{className:"modal-notifications"},this.elementCards)),a.createElement("div",{className:"announcement-modal-footer"},a.createElement(u.PrimaryButton,{onClick:this.onOpenAllAnnouncements,className:"view-all-announcements-button",text:t.translate("course.announcements.button.viewAll"),analyticsId:"course.announcements.slide.view.all.button"}))))},t}(a.Component);t.AnnouncementSlide=m,t.default=i.connect((function(e){return{courseContext:e.announcement.courseContext}}),(function(e){return f.bindActionCreators({getCourseContext:c.actions.announcement.getCourseContext},e)}))(o.localizedComponentWrapper(m))},MEdB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("uDfI"),o=n("wgY5"),u=n("O94r"),s=n("8unJ"),c=n("MC1S"),l=n("ACGm"),f=n("KBkc"),m=n("504r"),p=n("ZF81"),d=n("H5dd"),h=n("JfV0"),v=n("KBkc"),g=n("9OUN");n("KJxd"),t.TITLE_CHARACTER_LENGTH=256;var y=function(e){function n(n){var a=e.call(this,n)||this;return a.mappingAnnouncementToState=function(e){var t=a.props,n=t.courseId,r=t.courseContext,i=t.getCourseContext;if(e){var u=e.title,s=void 0===u?"":u,c=e.startDateRestriction,f=e.endDateRestriction,m=e.isDraft,p=e.pushNotify,d=e.body&&e.body.rawText||"";a.setState({currentBbml:d,currentAnnouncement:e,title:s,isValid:!!s.trim()&&!!d.trim(),isDraft:m,isSendEmailChecked:p}),m||(a.setState({isScheduleChecked:!0}),p?f&&a.setState({isEndChecked:!0,endDate:o(f).toDate(),endTime:o(f).toDate()}):(a.setState({isShowOnChecked:!0,startDate:o(c).toDate(),startTime:o(c).toDate()}),f&&a.setState({isEndChecked:!0,endDate:o(f).toDate(),endTime:o(f).toDate()})))}r&&r.courseId===n||i(n);var h=a.getMode();a.titleTextField&&a.isEditableMode(h)&&a.titleTextField.focus(),a.updateAnnouncementPanelState(l.default.DUPLICATE.isEqualTo(h),!1)},a.getMode=function(){return a.props.mode||l.default.VIEW},a.isEditableMode=function(e){return l.default.EDIT.isEqualTo(e)||l.default.DUPLICATE.isEqualTo(e)||l.default.CREATE.isEqualTo(e)},a.onTitleChange=function(e){a.setState((function(n){return{title:e,isTitleInputPristine:!1,isValid:!!e.trim()&&e.trim().length<=t.TITLE_CHARACTER_LENGTH&&!!n.currentBbml.trim()}})),a.updateAnnouncementPanelState(!!e.trim())},a.onMessageChange=function(e){var n=a.state,r=n.currentAnnouncement,i=n.isMessageEditorPristine,o=e.toBbML();a.setState((function(e){return{currentBbml:o,isMessageEditorPristine:!1,isValid:!!o.trim()&&!!e.title.trim()&&e.title.trim().length<=t.TITLE_CHARACTER_LENGTH}})),r&&!i?a.updateAnnouncementPanelState(r.body.rawText!==o):r||a.updateAnnouncementPanelState(!!o)},a.onTitleErrorMessage=function(e){var n=a.state.isTitleInputPristine,r="";return n||e.trim().length?!n&&e.trim().length>t.TITLE_CHARACTER_LENGTH&&(r=a.props.localize.translate("course.announcements.errors.messages.titleMaxlength",{maxLength:t.TITLE_CHARACTER_LENGTH})):r=a.props.localize.translate("course.announcements.errors.messages.titleRequired"),r},a.onSave=function(){if(!a.state.isSaving){a.setState({isSaving:!0});var e=a.getMode(),t=a.state.currentAnnouncement,n=a.state,i=n.currentBbml,o=n.title,u=n.isSendEmailChecked,s=n.isScheduleChecked,c=n.isShowOnChecked,f=n.isEndChecked,m=n.startDate,p=n.startTime,d=n.endDate,h=n.endTime,g=a.props,y=g.courseId,_=g.saveAnnouncement,S=g.closePanel;if(m&&p&&m.setHours(p.getHours(),p.getMinutes(),p.getSeconds()),d&&h&&d.setHours(h.getHours(),h.getMinutes(),h.getSeconds()),!t&&l.default.CREATE.isEqualTo(e))(t={}).isDraft=!0,t.title=o,t.body={rawText:i},t.pushNotify=u,s&&(t.isDraft=!1,c&&(t.startDateRestriction=v.buildDateTimeMoment(m,p).toISOString()),t.endDateRestriction=f?v.buildDateTimeMoment(d,h).toISOString():"");else{if(!l.default.DUPLICATE.isEqualTo(e)&&!l.default.EDIT.isEqualTo(e))return console.error("Failed to save announcement!"),void a.setState({isSaving:!1});var E=r.__assign(r.__assign({},t.body),{rawText:i});t=r.__assign(r.__assign({},t),{title:o,body:E}),l.default.DUPLICATE.isEqualTo(e)&&(t=r.__assign(r.__assign({},t),{isDraft:!0,id:null})),s?(t.isDraft=!1,c&&(t.startDateRestriction=v.buildDateTimeMoment(m,p).toISOString()),t.endDateRestriction=f?v.buildDateTimeMoment(d,h).toISOString():""):(t.isDraft=!0,t.startDateRestriction="",t.endDateRestriction="")}_(y,t).then((function(){a.updateAnnouncementPanelState(!1,!0),S()}))}},a.onCancel=function(){a.props.closePanel()},a.validateInputs=function(){return!!a.state.title.trim()&&!!a.state.currentBbml.trim()&&a.state.title.trim().length<=t.TITLE_CHARACTER_LENGTH},a.validateSchedule=function(){var e=a.state,t=e.isScheduleChecked,n=e.isShowOnChecked,r=e.isEndChecked,i=e.isStartDateValid,o=e.isStartTimeValid,u=e.isEndDateValid,s=e.isEndTimeValid;if(t){if(n&&(!i||!o))return!1;if(r&&(!u||!s))return!1}return!0},a.onSendEmailChange=function(){a.updateAnnouncementPanelState(!0),a.setState((function(e){return{isSendEmailChecked:!e.isSendEmailChecked}}))},a.onScheduleChange=function(){a.updateAnnouncementPanelState(!0),a.setState((function(e){return{isScheduleChecked:!e.isScheduleChecked,isShowOnChecked:!e.isScheduleChecked&&!e.isSendEmailChecked}}))},a.onShowOnChange=function(){a.setState((function(e){return{isShowOnChecked:!e.isShowOnChecked}})),a.updateAnnouncementPanelState(!0)},a.onHideOnChange=function(){a.setState((function(e){return{isEndChecked:!e.isEndChecked}})),a.updateAnnouncementPanelState(!0)},a.isEndLaterThanStart=function(){var e=a.state,t=e.isScheduleChecked,n=e.isEndChecked,r=e.isStartDateValid,i=e.isStartTimeValid,o=e.isEndDateValid,u=e.isEndTimeValid,s=e.startDate,c=e.startTime,l=e.endDate,f=e.endTime;return!(t&&n&&r&&i&&o&&u&&s&&c&&l&&f)||v.buildDateTimeMoment(l,f).diff(v.buildDateTimeMoment(s,c))>0},a.state={currentBbml:"",currentAnnouncement:null,title:"",isMessageEditorPristine:!0,isTitleInputPristine:!0,isSaving:!1,isValid:!1,isDraft:!1,isSendEmailChecked:!1,isScheduleChecked:!1,isShowOnChecked:!1,isEndChecked:!1,startDate:null,startTime:null,endDate:null,endTime:null,isStartDateValid:!0,isStartTimeValid:!0,isEndDateValid:!0,isEndTimeValid:!0},a}return r.__extends(n,e),n.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.courseId,r=t.announcementId,a=t.announcements,i=t.announcement,o=t.getAnnouncement,u=t.permissions;l.default.CREATE.isEqualTo(this.getMode())?u.create?this.mappingAnnouncementToState(null):console.error("User is not authorized to create announcement!"):a&&a[r]?this.mappingAnnouncementToState(a[r]):i&&i.id===r?this.mappingAnnouncementToState(i):r?o(n,r).then((function(){e.mappingAnnouncementToState(e.props.announcement)})):console.error("Unexpected behavior!")},n.prototype.componentDidUpdate=function(e,t){var n=this.state,r=n.isScheduleChecked,a=n.isShowOnChecked,i=n.isSendEmailChecked;if((t.isScheduleChecked!==r&&r||t.isShowOnChecked!==a&&a)&&!i&&(this.state.startDate&&this.state.startTime||this.setState({startDate:o().toDate(),startTime:o().toDate()})),t.isSendEmailChecked!==i&&i&&(this.state.startDate||this.state.startTime)&&this.setState({startDate:null,startTime:null}),this.state.isEndChecked!==t.isEndChecked&&this.state.isEndChecked&&(!this.state.endDate||!this.state.endTime)){var u=this.state,s=u.startDate,c=u.startTime;if(s&&c)this.setState({endDate:o(s).add(1,"days").toDate(),endTime:o(c).add(1,"days").toDate()});else{var l=o().toDate();this.setState({endDate:o(l).add(1,"days").toDate(),endTime:o(l).add(1,"days").toDate()})}}},n.prototype.updateAnnouncementPanelState=function(e,t){void 0===t&&(t=!1),this.props.changeAnnouncementPanelState({isDirty:e,isSaved:t})},Object.defineProperty(n.prototype,"isEditorInputValid",{get:function(){var e=this.state,t=e.currentBbml;return e.isMessageEditorPristine||t.length>0},enumerable:!0,configurable:!0}),n.prototype.renderBbEditorErrorMessage=function(){return this.isEditorInputValid?null:a.createElement("div",{className:"error-message",role:"alert"},a.createElement(c.SvgIcon,{iconName:"attention",iconSize:"small",iconStatus:"alert"}),a.createElement("span",null,this.props.localize.translate("course.announcements.errors.messages.messageRequired")))},n.prototype.render=function(){var e=this,t=this.getMode(),n=this.props,r=n.permissions,i=n.courseContext,o=n.localize,s=n.pluginConfig,h=this.state,v=h.currentAnnouncement,g=h.isSaving,y=h.isValid,_=h.isSendEmailChecked,S=h.isScheduleChecked,E=h.isShowOnChecked,b=h.isEndChecked,C=h.startDate,w=h.startTime,D=h.endDate,T=h.endTime,I=h.isStartDateValid,P=h.isStartTimeValid,k=h.isEndDateValid,A=h.isEndTimeValid,x=v,N=x&&f.decodeHtmlEntities(x.title)||"";l.default.CREATE.isEqualTo(t)?N=o.translate("course.announcements.newAnnouncement"):l.default.EDIT.isEqualTo(t)?N=o.translate("course.announcements.editAnnouncement",{announcement:N}):l.default.DUPLICATE.isEqualTo(t)&&(N=o.translate("course.announcements.copyAnnouncement",{announcement:N}));var O=(null==v?void 0:v.body.rawText)||"";return(r.viewUnposted||l.default.VIEW.isEqualTo(t))&&a.createElement("div",{className:"announcement-detail-panel"},l.default.VIEW.isEqualTo(t)&&a.createElement("div",{className:"panel-wrap"},a.createElement("header",{className:"panel-header simple-header"},a.createElement("div",{className:"panel-titles-container"},a.createElement("span",{className:"panel-sub-title"},o.translate(f.resolveCourseOrgToken("announcements.pageTitle",i))),a.createElement("div",{className:"editable-title-container black-header-contents"},a.createElement(c.IconButton,{className:"left-off-canvas-toggle menu-toggle  standard-button dark-background",iconProps:{iconName:"main-menu"},title:o.translate("base.menu"),ariaLabel:o.translate("base.menu"),analyticsId:"course.announcements.detailPanel.menu.button"}),a.createElement("h1",{className:"panel-title",title:N},N)))),a.createElement("section",{className:"panel-container panel-content"},a.createElement("div",{className:"body-text"},a.createElement(d.BbEditorWrapper,{editor:{bbml:O,isReadOnly:!0,isToolbarHidden:!0,showWordCount:!1,onChange:this.onMessageChange,placeholder:o.translate("course.announcements.detail.messageDesc")}})))),this.isEditableMode(t)&&a.createElement("div",{className:"peek-panel-with-footer"},a.createElement("div",{className:"panel-wrap"},a.createElement("header",{className:"panel-header simple-header"},a.createElement("div",{className:"panel-titles-container"},a.createElement("span",{className:"panel-sub-title"},i&&i.displayName||""),a.createElement("div",{className:"editable-title-container black-header-contents"},a.createElement(c.IconButton,{className:"left-off-canvas-toggle menu-toggle standard-button dark-background",iconProps:{iconName:"main-menu"},title:o.translate("base.menu"),ariaLabel:o.translate("base.menu"),analyticsId:"course.announcements.detailPanel.menu.button"}),a.createElement("h1",{className:"panel-title",title:N},N)))),a.createElement("section",{className:"panel-container panel-content -has-footer"},a.createElement(c.TextField,{className:"label-decorator",label:o.translate("course.announcements.detail.title"),value:f.decodeHtmlEntities(this.state.title),onChanged:this.onTitleChange,placeholder:o.translate("course.announcements.detail.titleDesc"),ref:function(t){e.titleTextField=t},onGetErrorMessage:this.onTitleErrorMessage,required:!0,analyticsId:"course.announcements.detailPanel.title.input.text"}),a.createElement(c.Dropdown,{label:o.translate("course.announcements.detail.recipients"),defaultSelectedKey:"all",required:!0,options:[{key:"all",text:o.translate(f.resolveCourseOrgToken("announcements.detail.allRecipients",i),{studentCount:i&&i.membershipCount||0})}],analyticsId:"course.announcements.detailPanel.recipients.dropdown"}),a.createElement("div",{className:"panel-content__field"},a.createElement(c.Label,{className:"panel-content__field__label",id:"announcement-bb-editor-label",required:!0},o.translate("course.announcements.detail.message")),a.createElement("div",{className:u.default("panel-content__message",{"-invalid":!this.isEditorInputValid})},a.createElement(d.BbEditorWrapper,{editor:{bbml:O,pluginConfig:s,ariaLabelledBy:"announcement-bb-editor-label",ariaRequired:!0,isReadOnly:!1,isToolbarHidden:!1,onChange:this.onMessageChange,placeholder:o.translate("course.announcements.detail.messageDesc"),showWordCount:!0}})),this.renderBbEditorErrorMessage()),a.createElement("div",null,a.createElement(c.Checkbox,{label:o.translate("course.announcements.button.email"),checked:_,disabled:E,onChange:this.onSendEmailChange,ariaDescribedBy:"email-checkbox-desc",analyticsId:"course.announcements.detailPanel.sendEmail.input.checkbox"}),a.createElement("p",{className:"information-message",id:"email-checkbox-desc"},o.translate("course.announcements.detail.emailDesc")),a.createElement("p",{className:"information-message",id:"email-checkbox-desc"},o.translate("course.announcements.detail.emailRestriction"))),a.createElement("div",null,a.createElement(c.Checkbox,{label:o.translate("course.announcements.button.schedule"),checked:S,onChange:this.onScheduleChange,analyticsId:"course.announcements.detailPanel.scheduleAnnouncement.input.checkbox"}),a.createElement("p",{className:"information-message",id:"email-checkbox-desc"},o.translate("course.announcements.detail.scheduleEmailInfo")),S&&a.createElement("div",null,a.createElement("div",null,a.createElement(c.Checkbox,{label:o.translate("course.announcements.dateTimePicker.showOn"),checked:E,disabled:_,onChange:this.onShowOnChange,analyticsId:"course.announcements.detailPanel.showOn.input.checkbox"}),a.createElement("div",{className:"row collapse date-time-inputs"},a.createElement("div",{className:"columns small-6"},a.createElement(m.default,{value:C,disabled:_,onChangeValue:function(t){e.setState({startDate:t})},onValidateCallback:function(t){e.setState({isStartDateValid:t})},isValueValid:I||!E||_,errorFormatMessage:o.translate("components.directives.validation.messages.errors.date"),errorEmptyMessage:o.translate("components.directives.content-visibility.startDateError"),localize:o,analyticsId:"course.announcements.detailPanel.showOn.datePicker"})),a.createElement("div",{className:"columns small-6"},a.createElement(p.default,{value:w,disabled:_,onChangeValue:function(t){e.setState({startTime:t})},onValidateCallback:function(t){e.setState({isStartTimeValid:t})},isValueValid:P||!E||_,localize:o,errorFormatMessage:o.translate("components.directives.validation.messages.errors.time"),errorEmptyMessage:o.translate("components.directives.content-visibility.startTimeError"),analyticsId:"course.announcements.detailPanel.showOn.timePicker"})))),a.createElement("div",null,a.createElement(c.Checkbox,{label:o.translate("course.announcements.dateTimePicker.hideOn"),checked:b,onChange:this.onHideOnChange,analyticsId:"course.announcements.detailPanel.hideOn.input.checkbox"}),a.createElement("div",{className:"row collapse date-time-inputs"},a.createElement("div",{className:"columns small-6"},a.createElement(m.default,{value:D,onChangeValue:function(t){e.setState({endDate:t})},onValidateCallback:function(t){e.setState({isEndDateValid:t})},isValueValid:k||!b,disabled:!b,errorFormatMessage:o.translate("components.directives.validation.messages.errors.date"),errorEmptyMessage:o.translate("components.directives.content-visibility.endDateError"),localize:o,analyticsId:"course.announcements.detailPanel.hideOn.datePicker"})),a.createElement("div",{className:"columns small-6"},a.createElement(p.default,{value:T,onChangeValue:function(t){e.setState({endTime:t})},onValidateCallback:function(t){e.setState({isEndTimeValid:t})},isValueValid:A||!b,localize:o,disabled:!b,errorFormatMessage:o.translate("components.directives.validation.messages.errors.time"),errorEmptyMessage:o.translate("components.directives.content-visibility.endTimeError"),analyticsId:"course.announcements.detailPanel.hideOn.timePicker"})))),!this.isEndLaterThanStart()&&a.createElement("span",{className:"error-message"},a.createElement(c.SvgIcon,{iconSize:"small",iconName:"attention"}),o.translate("course.announcements.errors.messages.hideOnShouldLaterThanShowOn")))))),a.createElement("footer",{className:"panel-footer"},a.createElement("span",{className:"place-holder"}),a.createElement(c.DefaultButton,{className:"button-cancel",onClick:this.onCancel,text:o.translate("course.announcements.button.cancel"),analyticsId:"course.announcements.detailPanel.cancel.button"}),a.createElement(c.PrimaryButton,{className:"button-save",disabled:!(y&&this.validateSchedule()&&this.isEndLaterThanStart()),onClick:this.onSave,text:o.translate("course.announcements.button.save"),analyticsId:"course.announcements.detailPanel.save.button"}))),g?a.createElement("div",{className:"spinner bb-secondary-color-2"}):"")},n}(a.Component);t.AnnouncementDetailPanel=y,t.default=i.connect((function(e){return{announcements:e.announcement.announcements,courseContext:e.announcement.courseContext,announcement:e.announcement.announcement,detailPanelState:e.announcement.detailPanelState}}),(function(e){return g.bindActionCreators({saveAnnouncement:h.actions.announcement.saveAnnouncement,getCourseContext:h.actions.announcement.getCourseContext,getAnnouncement:h.actions.announcement.getAnnouncement,changeAnnouncementPanelState:h.actions.announcement.changeAnnouncementPanelState},e)}))(s.localizedComponentWrapper(y))},PBFe:function(e,t,n){},ZF81:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("wgY5"),o=n("MC1S"),u=n("n7/H"),s=n("myse");n("PBFe");var c={pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,esc:27,enter:13};t.timePickerUtilities={getLocale:function(e){return e.context.localizationConfig.opts.locale}};var l=function(e){function n(n){var r=e.call(this,n)||this;return r.timeoutPromiseWrapper=function(e,t,n){return new Promise((function(a){e.apply(r,t),setTimeout((function(){var r=e.apply(n,t);a(r)}))}))},r.errorMessage=function(){var e=r.props,t=e.isValueValid,n=e.errorEmptyMessage,i=e.errorFormatMessage;if(!t){var u=i;return r.state.timeStr||(u=n),a.createElement("span",{className:"error-message"},a.createElement(o.SvgIcon,{iconSize:"small",iconName:"attention"}),u)}return null},r.updateSpinnerInputs=function(e){r.timeoutPromiseWrapper(r.getTimeObject,[e,u.ILocaleTimeFormat.Short],r).then((function(e){r.setState({hour:e.hour,minute:e.minute,amPm:e.amPm?e.amPm.toUpperCase():""})}))},r.updateTimeInput=function(e){var t=r.props,n=t.localize,a=t.onValidateCallback;r.timeoutPromiseWrapper(n.formatTime,[e,u.ILocaleTimeFormat.Short],n).then((function(e){r.setState({timeStr:e}),a(!0)}))},r.adjustTime=function(e,t,n,r){var a=parseInt(e,10);return Number.isNaN(a)?t:a>=n&&a<=r?e:a<n?n.toString():r.toString()},r.closeSpinner=function(){r.setState({isDisplaySpinner:!1})},r.stopEvents=function(e){e.stopPropagation();var t=e.which;t!==c.up&&t!==c.down&&t!==c.home&&t!==c.end&&t!==c.left&&t!==c.right&&t!==c.pageup&&t!==c.pagedown||e.preventDefault()},r.isValidDate=function(e){return e instanceof Date&&!Number.isNaN(e.valueOf())},r.onToggleSpinner=function(){r.setState((function(e){return{isDisplaySpinner:!e.isDisplaySpinner}}))},r.onChangeTimeInput=function(e){var t=e.target.value;r.setState({timeStr:t}),e.persist();var n=r.props,a=n.onValidateCallback,i=n.localize;r.timeoutPromiseWrapper(i.parseTime,[t,u.ILocaleTimeFormat.Short],i).then((function(e){e?(a(!0),r.tempDate=new Date(e),r.updateSpinnerInputs(r.tempDate)):a(!1)}))},r.onHourInputChange=function(e){var t=r.state.amPm?1:0,n=r.state.amPm?12:23,a=e.target.value;a.length<=2&&r.setState({hour:a},(function(){a=r.adjustTime(a,r.state.hour,t,n);var e=new Date(r.props.value);e.setHours(parseInt(a,10)),r.isValidDate(e)&&(r.tempDate=e,r.updateTimeInput(e))}))},r.onMinuteInputChange=function(e){var t=e.target.value;t.length<=2&&r.setState({minute:t},(function(){t=r.adjustTime(t,r.state.minute,0,59);var e=new Date(r.props.value);e.setMinutes(parseInt(t,10)),r.isValidDate(e)&&(r.tempDate=e,r.updateTimeInput(e))}))},r.onChangeAmPmInput=function(e){var t=e.target.value.toUpperCase();t.length<=2&&(e.persist(),r.setState({amPm:t},(function(){var e=r.props.localize,n=r.state.timeStr.split(" ")[0]+" "+t;r.timeoutPromiseWrapper(e.parseTime,[n,u.ILocaleTimeFormat.Short],e).then((function(e){e&&(r.tempDate=new Date(e),r.updateTimeInput(r.tempDate))}))})))},r.onHandlerBlur=function(){r.props.isValueValid&&r.props.onChangeValue(r.tempDate),r.tempDate.getTime()===r.props.value.getTime()&&r.updateSpinnerInputs(r.tempDate),setTimeout((function(){r.timePickerRef.contains(document.activeElement)||r.closeSpinner()}))},r.onClickChangeButton=function(e,t){r.tempDate=i(r.props.value).add(t,e).toDate(),r.props.onChangeValue(r.tempDate)},r.onKeyupInInput=function(e,t){var n=r.props.onChangeValue;switch(r.stopEvents(e),e.which){case c.esc:r.closeSpinner();break;case c.right:case c.up:n(i(r.tempDate).add(1,t).toDate());break;case c.left:case c.down:n(i(r.tempDate).add(-1,t).toDate());break;case c.pageup:"h"===t?n(i(r.tempDate).add(3,t).toDate()):"m"===t&&n(i(r.tempDate).add(10,t).toDate());break;case c.pagedown:"h"===t?n(i(r.tempDate).add(-3,t).toDate()):"m"===t&&n(i(r.tempDate).add(-10,t).toDate());break;case c.home:"h"===t?n(i(r.tempDate).hour(r.state.amPm?12:23).toDate()):"m"===t&&n(i(r.tempDate).minute(59).toDate());break;case c.end:"h"===t?n(i(r.tempDate).hour(r.state.amPm?1:0).toDate()):"m"===t&&n(i(r.tempDate).minute(0).toDate())}},r.onKeyupInAmPmInput=function(e){r.stopEvents(e);var t=e.which;t===c.esc?r.closeSpinner():t!==c.up&&t!==c.down&&t!==c.home&&t!==c.end&&t!==c.left&&t!==c.right&&t!==c.pageup&&t!==c.pagedown||r.props.onChangeValue(i(r.tempDate).add(12,"h").toDate())},r.onKeyupInChangeButton=function(e){r.stopEvents(e),e.which===c.esc&&r.closeSpinner()},r.onStopDefaultEvent=function(e){r.stopEvents(e)},r.onTimeInputKeyPress=function(e){e.which===c.enter&&r.closeSpinner()},r.onFocusInput=function(e){e.target.select()},r.state={timeStr:"",hour:"",minute:"",amPm:"",isDisplaySpinner:!1,tzShort:""},r.isLocaleArabic="ar-sa"===t.timePickerUtilities.getLocale(n.localize),r}return r.__extends(n,e),n.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.localize,r=t.value,a=t.onValidateCallback,i=new Date;if(this.timeoutPromiseWrapper(n.formatTimezone,[i,u.ILocaleTimezoneFormat.Short],n).then((function(t){e.setState({tzShort:t})})),r&&!this.state.timeStr){this.tempDate=r;var o=this.timeoutPromiseWrapper(n.formatTime,[r,u.ILocaleTimeFormat.Short],n),s=this.timeoutPromiseWrapper(this.getTimeObject,[r,u.ILocaleTimeFormat.Short],this);Promise.all([o,s]).then((function(t){var n=t[0],r=t[1];e.setState({timeStr:n,hour:r.hour,minute:r.minute,amPm:r.amPm?r.amPm.toUpperCase():""}),a(!0)}))}},n.prototype.componentDidUpdate=function(e,t){var n=this,r=this.props,a=r.localize,i=r.value,o=r.onValidateCallback;if(i&&(i&&i.getTime())!==(e.value&&e.value.getTime())){this.tempDate=i;var s=this.timeoutPromiseWrapper(a.formatTime,[i,u.ILocaleTimeFormat.Short],a),c=this.timeoutPromiseWrapper(this.getTimeObject,[i,u.ILocaleTimeFormat.Short],this);Promise.all([s,c]).then((function(e){var t=e[0],r=e[1];n.setState({timeStr:t,hour:r.hour,minute:r.minute,amPm:r.amPm?r.amPm.toUpperCase():""}),o(!0)}))}i||i===e.value||(this.setState({timeStr:"",hour:"",minute:"",amPm:""}),o(!0));var l=this.state.isDisplaySpinner;t.isDisplaySpinner!==l&&l&&this.hourInputRef.focus()},n.prototype.convert12HourTimeTo24HourTime=function(e){var t=e.hour,n="PM"===e.amPm.toUpperCase();return"12"===e.hour?t=n?"12":"0":n&&(t=""+(parseInt(e.hour,10)+12)),r.__assign(r.__assign({},e),{amPm:"",hour:t})},n.prototype.getTimeObject=function(e,t){var n=this.props.localize.getTimeObject(e,t);return this.isLocaleArabic?this.convert12HourTimeTo24HourTime(n):n},n.prototype.render=function(){var e=this,t=this.state,n=t.timeStr,r=t.hour,i=t.minute,u=t.isDisplaySpinner,c=t.tzShort,l=t.amPm,f=this.props,m=f.disabled,p=f.localize,d=f.analyticsId,h=f.analyticsEventAugmentor,v="spinner-control "+(l?"":"no-am-pm"),g=h(s.AnalyticsEventTypes.CLICK_EVENT,(function(){}),d+".input.text"),y=h(s.AnalyticsEventTypes.CLICK_EVENT,(function(){}),d+".hour.input.text"),_=h(s.AnalyticsEventTypes.CLICK_EVENT,(function(){}),d+".minute.input.text"),S=h(s.AnalyticsEventTypes.CLICK_EVENT,(function(){}),d+".amPm.input.text");return a.createElement("div",{className:"time-picker",ref:function(t){return e.timePickerRef=t},onBlur:this.onHandlerBlur,"data-analytics-id":d},a.createElement("div",{className:"calendar-input-container"},a.createElement("input",{type:"text",className:"time-input",value:n,onChange:this.onChangeTimeInput,ref:function(t){return e.timeInputRef=t},disabled:m,onKeyPress:this.onTimeInputKeyPress,onClick:g,"data-analytics-id":d+".input.text"}),a.createElement(o.IconButton,{ariaLabel:p.translate("course.announcements.timePicker.dueDate"),className:"btn-date open-datepicker toggle-btn",disabled:m,iconProps:{iconName:"away",iconSize:"small"},onClick:this.onToggleSpinner,title:p.translate("course.announcements.timePicker.dueDate"),analyticsId:d+".open.button"}),this.errorMessage()),u&&a.createElement(o.Callout,{target:this.timeInputRef,doNotLayer:!0,directionalHint:5},a.createElement("div",{className:v,"aria-hidden":!u,role:"region","aria-label":"Due Date Time",tabIndex:-1},a.createElement("div",{className:"spinner-hour"},a.createElement(o.IconButton,{ariaLabel:p.translate("course.announcements.timePicker.increaseHour"),className:"button-hour add-hour-btn",iconProps:{iconName:"arrow-up",iconSize:"small"},onKeyUp:this.onKeyupInChangeButton,onClick:function(){e.onClickChangeButton("h",1)},onKeyDown:this.onStopDefaultEvent,title:p.translate("course.announcements.timePicker.increaseHour"),analyticsId:d+".increaseHour.button"}),a.createElement("input",{type:"text",className:"spinner-input hour-input",ref:function(t){return e.hourInputRef=t},"aria-label":p.translate("course.announcements.timePicker.hour"),value:r,role:"spinbutton","aria-valuenow":parseInt(r,10),"aria-valuemax":l?12:23,"aria-valuemin":l?1:0,onChange:this.onHourInputChange,onFocus:this.onFocusInput,onKeyUp:function(t){return e.onKeyupInInput(t,"h")},onKeyDown:this.onStopDefaultEvent,onKeyPress:this.onTimeInputKeyPress,onClick:y,"data-analytics-id":d+".hour.input.text"}),a.createElement(o.IconButton,{ariaLabel:p.translate("course.announcements.timePicker.decreaseHour"),className:"button-hour sub-hour-btn",iconProps:{iconName:"arrow-down",iconSize:"small"},onClick:function(){e.onClickChangeButton("h",-1)},onKeyUp:this.onKeyupInChangeButton,onKeyDown:this.onStopDefaultEvent,title:p.translate("course.announcements.timePicker.decreaseHour"),analyticsId:d+".decreaseHour.button"})),a.createElement("div",{className:"colon"},":"),a.createElement("div",{className:"spinner-min"},a.createElement(o.IconButton,{ariaLabel:p.translate("course.announcements.timePicker.increaseMinute"),className:"button-minute add-min-btn",iconProps:{iconName:"arrow-up",iconSize:"small"},onClick:function(){e.onClickChangeButton("m",1)},onKeyUp:this.onKeyupInChangeButton,onKeyDown:this.onStopDefaultEvent,title:p.translate("course.announcements.timePicker.increaseMinute"),analyticsId:d+".increaseMinute.button"}),a.createElement("input",{type:"text",className:"spinner-input min-input","aria-label":p.translate("course.announcements.timePicker.minute"),value:i,role:"spinbutton","aria-valuenow":parseInt(i,10),"aria-valuemax":59,"aria-valuemin":0,onChange:this.onMinuteInputChange,onFocus:this.onFocusInput,onKeyUp:function(t){return e.onKeyupInInput(t,"m")},onKeyDown:this.onStopDefaultEvent,onKeyPress:this.onTimeInputKeyPress,onClick:_,"data-analytics-id":d+".minute.input.text"}),a.createElement(o.IconButton,{ariaLabel:p.translate("course.announcements.timePicker.decreaseMinute"),className:"button-minute sub-min-btn",iconProps:{iconName:"arrow-down",iconSize:"small"},onClick:function(){e.onClickChangeButton("m",-1)},onKeyUp:this.onKeyupInChangeButton,onKeyDown:this.onStopDefaultEvent,title:p.translate("course.announcements.timePicker.decreaseMinute"),analyticsId:d+".decreaseMinute.button"})),a.createElement("div",null,a.createElement("div",{className:"spinner-ampm"},a.createElement(o.IconButton,{ariaLabel:p.translate("course.announcements.timePicker.changeToAmPm"),className:"button-change-ampm add-am-pm-btn",iconProps:{iconName:"arrow-up",iconSize:"small"},onClick:function(){e.onClickChangeButton("h",12)},onKeyUp:this.onKeyupInChangeButton,onKeyDown:this.onStopDefaultEvent,title:p.translate("course.announcements.timePicker.changeToAmPm"),analyticsId:d+".changeAmPm.button"}),a.createElement("input",{type:"text",className:"spinner-input am-pm-input","aria-label":p.translate("course.announcements.timePicker.amPm"),value:l,role:"spinbutton",onChange:this.onChangeAmPmInput,onFocus:this.onFocusInput,onKeyUp:this.onKeyupInAmPmInput,onKeyDown:this.onStopDefaultEvent,onKeyPress:this.onTimeInputKeyPress,onClick:S,"data-analytics-id":d+".amPm.input.text"}),a.createElement(o.IconButton,{ariaLabel:p.translate("course.announcements.timePicker.changeToAmPm"),className:"button-change-ampm sub-am-pm-btn",iconProps:{iconName:"arrow-down",iconSize:"small"},onClick:function(){e.onClickChangeButton("h",12)},onKeyUp:this.onKeyupInChangeButton,onKeyDown:this.onStopDefaultEvent,title:p.translate("course.announcements.timePicker.changeToAmPm"),analyticsId:d+".changeAmPm.button"})))),a.createElement("hr",null),a.createElement("div",{className:"tz-offset"},a.createElement("span",null,c))))},n}(a.PureComponent);t.TimePicker=l,t.default=s.withAnalytics(l)},aoM1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("D57K"),a=n("ERkP"),i=n("JfV0"),o=n("myse");n("sGTL"),t.ICON_CHEVRON_UP="arrow-up",t.ICON_CHEVRON_DOWN="arrow-down";var u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getArrowDirection=function(){var e=n.props,r=e.currentSort,a=e.sortCriteria;return a&&a.includes(r)?(n.localSort=r,n.isDescendingSort(r)?t.ICON_CHEVRON_DOWN:t.ICON_CHEVRON_UP):""},n.updateSortCriteria=function(){var e=n.props,t=e.sortCriteria,r=e.onSwitchSortCriteria;n.localSort?n.localSort=t[0===t.indexOf(n.localSort)?t.length-1:0]:n.localSort=t[0],r(n.localSort)},n.isDescendingSort=function(e){return e===i.SortCriteriaEnum.DATE_DESC||e===i.SortCriteriaEnum.STATUS_DESC||e===i.SortCriteriaEnum.VIEWS_DESC||e===i.SortCriteriaEnum.TITLE_DESC},n}return r.__extends(n,e),n.prototype.render=function(){var e=this,n=this.props,r=n.localize,i=n.sortCriteria,u=n.viewText,s=n.analyticsId,c=(0,n.analyticsEventAugmentor)(o.AnalyticsEventTypes.CLICK_EVENT,this.updateSortCriteria,s),l="";if(this.getArrowDirection()){var f=this.getArrowDirection()===t.ICON_CHEVRON_UP?"asc":"desc";l=r.translate("course.announcements.sort."+u+"."+f)}return a.createElement(a.Fragment,null,a.createElement("button",{id:"sort-by-"+u+"-button",className:"active clear","aria-describedby":"sort-by-"+u,onClick:c,"data-analytics-id":s},a.createElement("span",{className:"sort-description"},r.translate("course.announcements.sort."+u+".description")),a.createElement("div",{className:"sort-list-arrows "+this.getArrowDirection(),role:"presentation"},i&&i.length>0&&i.map((function(t,n){return a.createElement("div",{className:e.isDescendingSort(t)?"sort-list-arrow-down":"sort-list-arrow-up",key:n})})))),a.createElement("span",{id:"sort-by-"+u,className:"sr-only","aria-live":"assertive"},l))},n}(a.PureComponent);t.SortControl=u,t.default=o.withAnalytics(u)},q3fC:function(e,t,n){},sGTL:function(e,t,n){},wzET:function(e,t,n){},x6OE:function(e,t,n){var r,a,i;a=[n("ERkP"),n("aWzz")],void 0===(i="function"==typeof(r=function(t,n){"use strict";var r,a,i;function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t=function(e){if(e&&e.__esModule)return e;var t=o();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}}return n.default=e,t&&t.set(e,n),n}(t),n=(i=n)&&i.__esModule?i:{default:i};var h={x:"clientWidth",y:"clientHeight"},v={x:"clientTop",y:"clientLeft"},g={x:"innerWidth",y:"innerHeight"},y={x:"offsetWidth",y:"offsetHeight"},_={x:"offsetLeft",y:"offsetTop"},S={x:"overflowX",y:"overflowY"},E={x:"scrollWidth",y:"scrollHeight"},b={x:"scrollLeft",y:"scrollTop"},C={x:"width",y:"height"},w=function(){},D=!!function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",w,{get passive(){return e=!0,!1}})}catch(e){}return e}()&&{passive:!0},T=function(e,t){var n=e.length,r=e.minSize,a=e.type,i=t.from,o=t.size,u=t.itemsPerRow,s=(o=Math.max(o,r))%u;return s&&(o+=u-s),o>n&&(o=n),(s=(i="simple"!==a&&i?Math.max(Math.min(i,n-o),0):0)%u)&&(i-=s,o+=s),i===t.from&&o==t.size?t:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{from:i,size:o})};e.exports=(a=r=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=s(this,c(n).call(this,e))).state=T(e,{itemsPerRow:1,from:e.initialIndex,size:0}),t.cache={},t.cachedScrollPosition=null,t.prevPrevState={},t.unstable=!1,t.updateCounter=0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,e),f(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=T(e,t);return n===t?null:n}}]),f(n,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>50)return this.unstable=!0,console.error("ReactList failed to reach a stable state.");this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout((function(){t.updateCounter=0,delete t.updateCounterTimeoutId}),0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(function(e,t){for(var n in t)if(e[n]!==t[n])return!1;return!0}(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,D),this.scrollParent.removeEventListener("mousewheel",w,D)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[v[t]]||0,r=_[t];do{n+=e[r]||0}while(e=e.offsetParent);return n}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"==typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=this.props.axis,n=b[t],r=e===window?document.body[n]||document.documentElement[n]:e[n],a=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),i=Math.max(0,Math.min(r,a)),o=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+i-this.getOffset(o),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,n=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[b[n]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,n=t.body,r=t.documentElement,a=E[this.props.axis];return e===window?Math.max(n[a],r[a]):e[a]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),n=Math.max(0,t-e),r=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(r=Math.min(r,this.getSpaceBefore(this.props.length))),{start:n,end:r}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,n=e.useStaticSize,r=this.state,a=r.itemSize,i=r.itemsPerRow;if(n&&a&&i)return{itemSize:a,itemsPerRow:i};var o=this.items.children;if(!o.length)return{};var u=o[0],s=u[y[t]],c=Math.abs(s-a);if((isNaN(c)||c>=1)&&(a=s),!a)return{};for(var l=_[t],f=u[l],m=o[i=1];m&&m[l]===f;m=o[i])++i;return{itemSize:a,itemsPerRow:i}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=w),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",w)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,D),this.scrollParent.addEventListener("mousewheel",w,D))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,n=this.items.children,r=0;if(n.length){var a=this.props.axis,i=n[0],o=n[n.length-1];r=this.getOffset(o)+o[y[a]]-this.getOffset(i)}if(r>t)return e();var u=this.props,s=u.pageSize,c=u.length,l=Math.min(this.state.size+s,c);this.maybeSetState({size:l},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),n=t.start,r=t.end,a=this.props,i=a.length,o=a.pageSize,u=0,s=0,c=0,l=i-1;s<l;){var f=this.getSizeOfItem(s);if(null==f||u+f>n)break;u+=f,++s}for(var m=i-s;c<m&&u<r;){var p=this.getSizeOfItem(s+c);if(null==p){c=Math.min(c+o,m);break}u+=p,++c}this.maybeSetState({from:s,size:c},e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),n=t.itemSize,r=t.itemsPerRow;if(!n||!r)return e();var a=this.getStartAndEnd(),i=a.start,o=a.end,u=T(this.props,{from:Math.floor(i/n)*r,size:(Math.ceil((o-i)/n)+1)*r,itemsPerRow:r}),s=u.from,c=u.size;return this.maybeSetState({itemsPerRow:r,from:s,itemSize:n,size:c},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var n=this.state,r=n.itemSize,a=n.itemsPerRow;if(r)return t[e]=Math.floor(e/a)*r;for(var i=e;i>0&&null==t[--i];);for(var o=t[i]||0,u=i;u<e;++u){t[u]=o;var s=this.getSizeOfItem(u);if(null==s)break;o+=s}return t[e]=o}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=this.items.children,r=y[this.props.axis],a=0,i=n.length;a<i;++a)e[t+a]=n[a][r]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,n=this.items,r=this.props,a=r.axis,i=r.itemSizeGetter,o=r.itemSizeEstimator,u=r.type,s=this.state,c=s.from,l=s.itemSize,f=s.size;if(l)return l;if(i)return i(e);if(e in t)return t[e];if("simple"===u&&e>=c&&e<c+f&&n){var m=n.children[e-c];if(m)return m[y[a]]}return o?o(e,t):void 0}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),n=this.getSpaceBefore(e),r=n-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),a=Math.min(r,n),i=Math.max(r,n);return t<=a?this.setScroll(a):t>i?this.setScroll(i):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,n=this.state,r=n.from,a=n.size,i=this.getStartAndEnd(0),o=i.start,u=i.end,s={},c=r;c<r+a;++c){var l=this.getSpaceBefore(c,s),f=l+this.getSizeOfItem(c);null==e&&f>o&&(e=c),null!=e&&l<u&&(t=c)}return[e,t]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,r=t.itemsRenderer,a=this.state,i=a.from,o=a.size,u=[],s=0;s<o;++s)u.push(n(i+s,s));return r(u,(function(t){return e.items=t}))}},{key:"render",value:function(){var e=this,n=this.props,r=n.axis,a=n.length,i=n.type,o=n.useTranslate3d,u=this.state,s=u.from,c=u.itemsPerRow,l=this.renderItems();if("simple"===i)return l;var f={position:"relative"},m={},p=Math.ceil(a/c)*c,d=this.getSpaceBefore(p,m);d&&(f[C[r]]=d,"x"===r&&(f.overflowX="hidden"));var h=this.getSpaceBefore(s,m),v="x"===r?h:0,g="y"===r?h:0,y=o?"translate3d(".concat(v,"px, ").concat(g,"px, 0)"):"translate(".concat(v,"px, ").concat(g,"px)"),_={msTransform:y,WebkitTransform:y,transform:y};return t.default.createElement("div",{style:f,ref:function(t){return e.el=t}},t.default.createElement("div",{style:_},l))}}]),n}(t.Component),d(r,"displayName","ReactList"),d(r,"propTypes",{axis:n.default.oneOf(["x","y"]),initialIndex:n.default.number,itemRenderer:n.default.func,itemSizeEstimator:n.default.func,itemSizeGetter:n.default.func,itemsRenderer:n.default.func,length:n.default.number,minSize:n.default.number,pageSize:n.default.number,scrollParentGetter:n.default.func,scrollParentViewportSizeGetter:n.default.func,threshold:n.default.number,type:n.default.oneOf(["simple","variable","uniform"]),useStaticSize:n.default.bool,useTranslate3d:n.default.bool}),d(r,"defaultProps",{axis:"y",itemRenderer:function(e,n){return t.default.createElement("div",{key:n},e)},itemsRenderer:function(e,n){return t.default.createElement("div",{ref:n},e)},length:0,minSize:1,pageSize:10,scrollParentGetter:function(e){for(var t=e.props.axis,n=e.getEl(),r=S[t];n=n.parentElement;)switch(window.getComputedStyle(n)[r]){case"auto":case"scroll":case"overlay":return n}return window},scrollParentViewportSizeGetter:function(e){var t=e.props.axis,n=e.scrollParent;return n===window?window[g[t]]:n[h[t]]},threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1}),a)})?r.apply(t,a):r)||(e.exports=i)},yVEt:function(e,t,n){}}]);